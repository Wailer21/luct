{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Wailer\\\\Downloads\\\\luct_reporting_app_\\\\luct_reporting_app\\\\frontend\\\\src\\\\pages\\\\ReportForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ReportForm() {\n  _s();\n  const {\n    token\n  } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [faculties, setFaculties] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const initialFormState = {\n    faculty_id: \"\",\n    class_id: \"\",\n    week_of_reporting: \"\",\n    lecture_date: new Date().toISOString().split(\"T\")[0],\n    course_id: \"\",\n    course_code: \"\",\n    actual_present: \"\",\n    total_registered: \"\",\n    venue: \"\",\n    scheduled_time: \"\",\n    topic: \"\",\n    learning_outcomes: \"\",\n    recommendations: \"\"\n  };\n  const [form, setForm] = useState(initialFormState);\n  const authHeaders = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  // Fetch dropdown data\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        const [facRes, courseRes, classRes] = await Promise.all([axios.get(\"http://localhost:5000/api/data/faculties\", authHeaders), axios.get(\"http://localhost:5000/api/data/courses\", authHeaders), axios.get(\"http://localhost:5000/api/data/classes\", authHeaders)]);\n        setFaculties(facRes.data.data || []);\n        setCourses(courseRes.data.data || []);\n        setClasses(classRes.data.data || []);\n      } catch (err) {\n        console.error(\"Failed to load dropdown data:\", err);\n        alert(\"Failed to load form data. Please refresh the page.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (token) fetchData();\n  }, [token]);\n\n  // Fetch course details when course_id changes\n  useEffect(() => {\n    async function fetchCourseDetails() {\n      if (!form.course_id) {\n        setForm(prev => ({\n          ...prev,\n          course_code: \"\",\n          total_registered: \"\"\n        }));\n        return;\n      }\n      try {\n        const res = await axios.get(`http://localhost:5000/api/data/courses/${form.course_id}`, authHeaders);\n        if (res.data.success) {\n          setForm(prev => ({\n            ...prev,\n            total_registered: res.data.data.total_registered || \"\",\n            course_code: res.data.data.course_code || \"\"\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch course details:\", err);\n      }\n    }\n    fetchCourseDetails();\n  }, [form.course_id, token]);\n\n  // Fetch class details when class_id changes\n  useEffect(() => {\n    async function fetchClassDetails() {\n      if (!form.class_id) {\n        setForm(prev => ({\n          ...prev,\n          venue: \"\",\n          scheduled_time: \"\"\n        }));\n        return;\n      }\n      try {\n        const selectedClass = classes.find(cl => cl.id === parseInt(form.class_id));\n        if (selectedClass) {\n          setForm(prev => ({\n            ...prev,\n            venue: selectedClass.venue || \"\",\n            scheduled_time: selectedClass.scheduled_time || \"\",\n            course_id: selectedClass.course_id || prev.course_id\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch class details:\", err);\n      }\n    }\n    fetchClassDetails();\n  }, [form.class_id, classes]);\n\n  // Validation\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case \"actual_present\":\n        if (value && form.total_registered && parseInt(value) > parseInt(form.total_registered)) {\n          newErrors.actual_present = \"Actual present cannot exceed total registered\";\n        } else delete newErrors.actual_present;\n        break;\n      case \"lecture_date\":\n        if (new Date(value) > new Date()) newErrors.lecture_date = \"Lecture date cannot be in the future\";else delete newErrors.lecture_date;\n        break;\n      case \"week_of_reporting\":\n        if (value && (parseInt(value) < 1 || parseInt(value) > 52)) newErrors.week_of_reporting = \"Week must be between 1 and 52\";else delete newErrors.week_of_reporting;\n        break;\n      default:\n        if (!value && [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"].includes(name)) newErrors[name] = \"This field is required\";else delete newErrors[name];\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const validateForm = () => {\n    const requiredFields = [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"];\n    const newErrors = {};\n    requiredFields.forEach(f => {\n      if (!form[f]) newErrors[f] = \"This field is required\";\n    });\n    if (form.actual_present && form.total_registered && parseInt(form.actual_present) > parseInt(form.total_registered)) {\n      newErrors.actual_present = \"Actual present cannot exceed total registered\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!validateForm()) {\n      alert(\"Please fix the form errors before submitting.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await axios.post(\"http://localhost:5000/api/data/reports\", form, authHeaders);\n      if (response.data.success) {\n        setSuccess(true);\n        setForm(initialFormState);\n        setTimeout(() => setSuccess(false), 5000);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Submit failed:\", err);\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Failed to submit report\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  const resetForm = () => {\n    setForm(initialFormState);\n    setErrors({});\n  };\n  if (loading && faculties.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading form...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-primary text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-0\",\n          children: \"\\uD83D\\uDCDD Lecture Reporting Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"Submit detailed reports for your lectures\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [success && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success alert-dismissible fade show\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Success!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), \" Report submitted successfully.\", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: () => setSuccess(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Faculty\",\n              name: \"faculty_id\",\n              options: faculties,\n              value: form.faculty_id,\n              onChange: e => setForm({\n                ...form,\n                faculty_id: e.target.value\n              }),\n              error: errors.faculty_id,\n              optionLabel: \"name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Course\",\n              name: \"course_id\",\n              options: courses,\n              value: form.course_id,\n              onChange: e => setForm({\n                ...form,\n                course_id: e.target.value\n              }),\n              error: errors.course_id,\n              optionLabel: c => `${c.course_name} (${c.course_code})`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Class\",\n              name: \"class_id\",\n              options: classes,\n              value: form.class_id,\n              onChange: e => setForm({\n                ...form,\n                class_id: e.target.value\n              }),\n              error: errors.class_id,\n              optionLabel: cl => cl.class_name || cl.id,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Week of Reporting\",\n              name: \"week_of_reporting\",\n              type: \"number\",\n              min: \"1\",\n              max: \"52\",\n              value: form.week_of_reporting,\n              onChange: e => setForm({\n                ...form,\n                week_of_reporting: e.target.value\n              }),\n              error: errors.week_of_reporting,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Date of Lecture\",\n              name: \"lecture_date\",\n              type: \"date\",\n              value: form.lecture_date,\n              onChange: e => setForm({\n                ...form,\n                lecture_date: e.target.value\n              }),\n              error: errors.lecture_date,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Scheduled Time\",\n              name: \"scheduled_time\",\n              value: form.scheduled_time,\n              onChange: e => setForm({\n                ...form,\n                scheduled_time: e.target.value\n              }),\n              className: \"col-md-4 mb-3\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Actual Present\",\n              name: \"actual_present\",\n              type: \"number\",\n              min: \"0\",\n              value: form.actual_present,\n              onChange: e => setForm({\n                ...form,\n                actual_present: e.target.value\n              }),\n              error: errors.actual_present,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Total Registered\",\n              name: \"total_registered\",\n              type: \"number\",\n              value: form.total_registered,\n              readOnly: true,\n              className: \"col-md-4 mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Venue\",\n              name: \"venue\",\n              value: form.venue,\n              onChange: e => setForm({\n                ...form,\n                venue: e.target.value\n              }),\n              className: \"col-md-4 mb-3\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(TextArea, {\n              label: \"Topic Taught\",\n              name: \"topic\",\n              value: form.topic,\n              onChange: e => setForm({\n                ...form,\n                topic: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              label: \"Learning Outcomes\",\n              name: \"learning_outcomes\",\n              value: form.learning_outcomes,\n              onChange: e => setForm({\n                ...form,\n                learning_outcomes: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              label: \"Recommendations & Notes\",\n              name: \"recommendations\",\n              value: form.recommendations,\n              onChange: e => setForm({\n                ...form,\n                recommendations: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-2 justify-content-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-secondary\",\n              onClick: resetForm,\n              disabled: loading,\n              children: \"Clear Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              type: \"submit\",\n              disabled: loading || Object.keys(errors).length > 0,\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 31\n                }, this), \" Submitting...\"]\n              }, void 0, true) : \"Submit Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}\n\n// UI Helpers\n_s(ReportForm, \"HlQWZG4wEd6rCV4qTgGRqPK5Sjs=\", false, function () {\n  return [useAuth];\n});\n_c = ReportForm;\nfunction InputField({\n  label,\n  name,\n  type = \"text\",\n  value,\n  onChange,\n  error,\n  className = \"mb-3\",\n  ...rest\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      name: name,\n      className: `form-control ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: onChange,\n      ...rest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 5\n  }, this);\n}\n_c2 = InputField;\nfunction TextArea({\n  label,\n  name,\n  value,\n  onChange,\n  error,\n  rows = 3,\n  required\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: name,\n      className: `form-control ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: onChange,\n      rows: rows,\n      required: required\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n}\n_c3 = TextArea;\nfunction SelectInput({\n  label,\n  name,\n  options,\n  value,\n  onChange,\n  error,\n  required,\n  optionLabel,\n  className = \"col-md-4 mb-3\"\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: name,\n      className: `form-select ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: onChange,\n      required: required,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: [\"Select \", label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: opt.id,\n        children: typeof optionLabel === \"function\" ? optionLabel(opt) : opt[optionLabel]\n      }, opt.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n}\n_c4 = SelectInput;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ReportForm\");\n$RefreshReg$(_c2, \"InputField\");\n$RefreshReg$(_c3, \"TextArea\");\n$RefreshReg$(_c4, \"SelectInput\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ReportForm","_s","token","loading","setLoading","errors","setErrors","success","setSuccess","faculties","setFaculties","courses","setCourses","classes","setClasses","initialFormState","faculty_id","class_id","week_of_reporting","lecture_date","Date","toISOString","split","course_id","course_code","actual_present","total_registered","venue","scheduled_time","topic","learning_outcomes","recommendations","form","setForm","authHeaders","headers","Authorization","fetchData","facRes","courseRes","classRes","Promise","all","get","data","err","console","error","alert","fetchCourseDetails","prev","res","fetchClassDetails","selectedClass","find","cl","id","parseInt","validateField","name","value","newErrors","includes","Object","keys","length","validateForm","requiredFields","forEach","f","handleSubmit","e","preventDefault","response","post","setTimeout","_err$response","_err$response$data","resetForm","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","onSubmit","SelectInput","label","options","onChange","target","optionLabel","required","c","course_name","class_name","InputField","min","max","readOnly","TextArea","disabled","_c","rest","_c2","rows","_c3","map","opt","_c4","$RefreshReg$"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/pages/ReportForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../utils/auth\";\n\nexport default function ReportForm() {\n  const { token } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n\n  const [faculties, setFaculties] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [classes, setClasses] = useState([]);\n\n  const initialFormState = {\n    faculty_id: \"\",\n    class_id: \"\",\n    week_of_reporting: \"\",\n    lecture_date: new Date().toISOString().split(\"T\")[0],\n    course_id: \"\",\n    course_code: \"\",\n    actual_present: \"\",\n    total_registered: \"\",\n    venue: \"\",\n    scheduled_time: \"\",\n    topic: \"\",\n    learning_outcomes: \"\",\n    recommendations: \"\",\n  };\n\n  const [form, setForm] = useState(initialFormState);\n\n  const authHeaders = {\n    headers: { Authorization: `Bearer ${token}` },\n  };\n\n  // Fetch dropdown data\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        const [facRes, courseRes, classRes] = await Promise.all([\n          axios.get(\"http://localhost:5000/api/data/faculties\", authHeaders),\n          axios.get(\"http://localhost:5000/api/data/courses\", authHeaders),\n          axios.get(\"http://localhost:5000/api/data/classes\", authHeaders),\n        ]);\n        setFaculties(facRes.data.data || []);\n        setCourses(courseRes.data.data || []);\n        setClasses(classRes.data.data || []);\n      } catch (err) {\n        console.error(\"Failed to load dropdown data:\", err);\n        alert(\"Failed to load form data. Please refresh the page.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    if (token) fetchData();\n  }, [token]);\n\n  // Fetch course details when course_id changes\n  useEffect(() => {\n    async function fetchCourseDetails() {\n      if (!form.course_id) {\n        setForm((prev) => ({ ...prev, course_code: \"\", total_registered: \"\" }));\n        return;\n      }\n      try {\n        const res = await axios.get(\n          `http://localhost:5000/api/data/courses/${form.course_id}`,\n          authHeaders\n        );\n        if (res.data.success) {\n          setForm((prev) => ({\n            ...prev,\n            total_registered: res.data.data.total_registered || \"\",\n            course_code: res.data.data.course_code || \"\",\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch course details:\", err);\n      }\n    }\n    fetchCourseDetails();\n  }, [form.course_id, token]);\n\n  // Fetch class details when class_id changes\n  useEffect(() => {\n    async function fetchClassDetails() {\n      if (!form.class_id) {\n        setForm((prev) => ({ ...prev, venue: \"\", scheduled_time: \"\" }));\n        return;\n      }\n      try {\n        const selectedClass = classes.find((cl) => cl.id === parseInt(form.class_id));\n        if (selectedClass) {\n          setForm((prev) => ({\n            ...prev,\n            venue: selectedClass.venue || \"\",\n            scheduled_time: selectedClass.scheduled_time || \"\",\n            course_id: selectedClass.course_id || prev.course_id,\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch class details:\", err);\n      }\n    }\n    fetchClassDetails();\n  }, [form.class_id, classes]);\n\n  // Validation\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case \"actual_present\":\n        if (value && form.total_registered && parseInt(value) > parseInt(form.total_registered)) {\n          newErrors.actual_present = \"Actual present cannot exceed total registered\";\n        } else delete newErrors.actual_present;\n        break;\n      case \"lecture_date\":\n        if (new Date(value) > new Date()) newErrors.lecture_date = \"Lecture date cannot be in the future\";\n        else delete newErrors.lecture_date;\n        break;\n      case \"week_of_reporting\":\n        if (value && (parseInt(value) < 1 || parseInt(value) > 52)) newErrors.week_of_reporting = \"Week must be between 1 and 52\";\n        else delete newErrors.week_of_reporting;\n        break;\n      default:\n        if (!value && [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"].includes(name))\n          newErrors[name] = \"This field is required\";\n        else delete newErrors[name];\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const validateForm = () => {\n    const requiredFields = [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"];\n    const newErrors = {};\n    requiredFields.forEach((f) => {\n      if (!form[f]) newErrors[f] = \"This field is required\";\n    });\n    if (form.actual_present && form.total_registered && parseInt(form.actual_present) > parseInt(form.total_registered)) {\n      newErrors.actual_present = \"Actual present cannot exceed total registered\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!validateForm()) {\n      alert(\"Please fix the form errors before submitting.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await axios.post(\"http://localhost:5000/api/data/reports\", form, authHeaders);\n      if (response.data.success) {\n        setSuccess(true);\n        setForm(initialFormState);\n        setTimeout(() => setSuccess(false), 5000);\n      }\n    } catch (err) {\n      console.error(\"Submit failed:\", err);\n      alert(err.response?.data?.error || \"Failed to submit report\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const resetForm = () => {\n    setForm(initialFormState);\n    setErrors({});\n  };\n\n  if (loading && faculties.length === 0) {\n    return (\n      <div className=\"d-flex justify-content-center py-5\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading form...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"card shadow\">\n        <div className=\"card-header bg-primary text-white\">\n          <h4 className=\"mb-0\">üìù Lecture Reporting Form</h4>\n          <small>Submit detailed reports for your lectures</small>\n        </div>\n\n        <div className=\"card-body\">\n          {success && (\n            <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n              <strong>Success!</strong> Report submitted successfully.\n              <button type=\"button\" className=\"btn-close\" onClick={() => setSuccess(false)}></button>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            {/* Faculty, Course, Class */}\n            <div className=\"row mb-4\">\n              <SelectInput label=\"Faculty\" name=\"faculty_id\" options={faculties} value={form.faculty_id} onChange={(e) => setForm({ ...form, faculty_id: e.target.value })} error={errors.faculty_id} optionLabel=\"name\" required />\n              <SelectInput label=\"Course\" name=\"course_id\" options={courses} value={form.course_id} onChange={(e) => setForm({ ...form, course_id: e.target.value })} error={errors.course_id} optionLabel={(c) => `${c.course_name} (${c.course_code})`} required />\n              <SelectInput label=\"Class\" name=\"class_id\" options={classes} value={form.class_id} onChange={(e) => setForm({ ...form, class_id: e.target.value })} error={errors.class_id} optionLabel={(cl) => cl.class_name || cl.id} required />\n            </div>\n\n            {/* Schedule */}\n            <div className=\"row mb-4\">\n              <InputField label=\"Week of Reporting\" name=\"week_of_reporting\" type=\"number\" min=\"1\" max=\"52\" value={form.week_of_reporting} onChange={(e) => setForm({ ...form, week_of_reporting: e.target.value })} error={errors.week_of_reporting} className=\"col-md-4 mb-3\" required />\n              <InputField label=\"Date of Lecture\" name=\"lecture_date\" type=\"date\" value={form.lecture_date} onChange={(e) => setForm({ ...form, lecture_date: e.target.value })} error={errors.lecture_date} className=\"col-md-4 mb-3\" required />\n              <InputField label=\"Scheduled Time\" name=\"scheduled_time\" value={form.scheduled_time} onChange={(e) => setForm({ ...form, scheduled_time: e.target.value })} className=\"col-md-4 mb-3\" readOnly />\n            </div>\n\n            {/* Attendance */}\n            <div className=\"row mb-4\">\n              <InputField label=\"Actual Present\" name=\"actual_present\" type=\"number\" min=\"0\" value={form.actual_present} onChange={(e) => setForm({ ...form, actual_present: e.target.value })} error={errors.actual_present} className=\"col-md-4 mb-3\" required />\n              <InputField label=\"Total Registered\" name=\"total_registered\" type=\"number\" value={form.total_registered} readOnly className=\"col-md-4 mb-3\" />\n              <InputField label=\"Venue\" name=\"venue\" value={form.venue} onChange={(e) => setForm({ ...form, venue: e.target.value })} className=\"col-md-4 mb-3\" readOnly />\n            </div>\n\n            {/* Content */}\n            <div className=\"row mb-4\">\n              <TextArea label=\"Topic Taught\" name=\"topic\" value={form.topic} onChange={(e) => setForm({ ...form, topic: e.target.value })} required />\n              <TextArea label=\"Learning Outcomes\" name=\"learning_outcomes\" value={form.learning_outcomes} onChange={(e) => setForm({ ...form, learning_outcomes: e.target.value })} required />\n              <TextArea label=\"Recommendations & Notes\" name=\"recommendations\" value={form.recommendations} onChange={(e) => setForm({ ...form, recommendations: e.target.value })} />\n            </div>\n\n            {/* Actions */}\n            <div className=\"d-flex gap-2 justify-content-end\">\n              <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={resetForm} disabled={loading}>Clear Form</button>\n              <button className=\"btn btn-primary\" type=\"submit\" disabled={loading || Object.keys(errors).length > 0}>\n                {loading ? <> <span className=\"spinner-border spinner-border-sm me-2\"></span> Submitting...</> : \"Submit Report\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// UI Helpers\nfunction InputField({ label, name, type = \"text\", value, onChange, error, className = \"mb-3\", ...rest }) {\n  return (\n    <div className={className}>\n      <label className=\"form-label fw-semibold\">{label}</label>\n      <input type={type} name={name} className={`form-control ${error ? \"is-invalid\" : \"\"}`} value={value} onChange={onChange} {...rest} />\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n\nfunction TextArea({ label, name, value, onChange, error, rows = 3, required }) {\n  return (\n    <div className=\"mb-3\">\n      <label className=\"form-label fw-semibold\">{label}</label>\n      <textarea name={name} className={`form-control ${error ? \"is-invalid\" : \"\"}`} value={value} onChange={onChange} rows={rows} required={required}></textarea>\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n\nfunction SelectInput({ label, name, options, value, onChange, error, required, optionLabel, className = \"col-md-4 mb-3\" }) {\n  return (\n    <div className={className}>\n      <label className=\"form-label fw-semibold\">{label}</label>\n      <select name={name} className={`form-select ${error ? \"is-invalid\" : \"\"}`} value={value} onChange={onChange} required={required}>\n        <option value=\"\">Select {label}</option>\n        {options.map((opt) => (\n          <option key={opt.id} value={opt.id}>\n            {typeof optionLabel === \"function\" ? optionLabel(opt) : opt[optionLabel]}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}