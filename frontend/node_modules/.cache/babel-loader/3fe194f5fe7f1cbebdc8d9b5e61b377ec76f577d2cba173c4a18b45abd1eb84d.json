{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Wailer\\\\Downloads\\\\luct_reporting_app_\\\\luct_reporting_app\\\\frontend\\\\src\\\\pages\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../utils/auth';\nimport { api, API_ENDPOINTS } from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [form, setForm] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    role: 'Lecturer'\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const navigate = useNavigate();\n  const auth = useAuth();\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case 'first_name':\n        if (!value.trim()) {\n          newErrors.first_name = 'First name is required';\n        } else if (value.trim().length < 2) {\n          newErrors.first_name = 'First name must be at least 2 characters';\n        } else if (!/^[a-zA-Z\\s'-]+$/.test(value.trim())) {\n          newErrors.first_name = 'First name can only contain letters, spaces, hyphens, and apostrophes';\n        } else {\n          delete newErrors.first_name;\n        }\n        break;\n      case 'last_name':\n        if (!value.trim()) {\n          newErrors.last_name = 'Last name is required';\n        } else if (value.trim().length < 2) {\n          newErrors.last_name = 'Last name must be at least 2 characters';\n        } else if (!/^[a-zA-Z\\s'-]+$/.test(value.trim())) {\n          newErrors.last_name = 'Last name can only contain letters, spaces, hyphens, and apostrophes';\n        } else {\n          delete newErrors.last_name;\n        }\n        break;\n      case 'email':\n        if (!value.trim()) {\n          newErrors.email = 'Email is required';\n        } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n          newErrors.email = 'Please enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'password':\n        if (!value) {\n          newErrors.password = 'Password is required';\n        } else if (value.length < 6) {\n          newErrors.password = 'Password must be at least 6 characters';\n        } else if (!/(?=.*[a-z])(?=.*[A-Z])/.test(value)) {\n          newErrors.password = 'Password must contain both uppercase and lowercase letters';\n        } else {\n          delete newErrors.password;\n        }\n        break;\n      case 'confirmPassword':\n        if (!value) {\n          newErrors.confirmPassword = 'Please confirm your password';\n        } else if (value !== form.password) {\n          newErrors.confirmPassword = 'Passwords do not match';\n        } else {\n          delete newErrors.confirmPassword;\n        }\n        break;\n      case 'role':\n        if (!value) {\n          newErrors.role = 'Please select a role';\n        } else {\n          delete newErrors.role;\n        }\n        break;\n      default:\n        break;\n    }\n    return newErrors;\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n\n    // Validate field on change\n    const newErrors = validateField(name, value);\n    setErrors(newErrors);\n  };\n  const handleBlur = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n    const newErrors = validateField(name, value);\n    setErrors(newErrors);\n  };\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Validate all fields\n    Object.keys(form).forEach(key => {\n      const fieldErrors = validateField(key, form[key]);\n      Object.assign(newErrors, fieldErrors);\n    });\n    setErrors(newErrors);\n    setTouched(Object.keys(form).reduce((acc, key) => ({\n      ...acc,\n      [key]: true\n    }), {}));\n    return Object.keys(newErrors).length === 0;\n  };\n  const getFieldClass = fieldName => {\n    if (!touched[fieldName]) return 'form-control';\n    return errors[fieldName] ? 'form-control is-invalid' : 'form-control is-valid';\n  };\n  const getSelectClass = fieldName => {\n    if (!touched[fieldName]) return 'form-select';\n    return errors[fieldName] ? 'form-select is-invalid' : 'form-select is-valid';\n  };\n  async function submit(e) {\n    e.preventDefault();\n    if (!validateForm()) {\n      setErrors(prev => ({\n        ...prev,\n        submit: 'Please fix the form errors before submitting.'\n      }));\n      return;\n    }\n    setLoading(true);\n    setErrors({});\n    try {\n      const {\n        confirmPassword,\n        ...submitData\n      } = form;\n      const response = await api.post(API_ENDPOINTS.REGISTER, submitData);\n      if (response.success) {\n        // Auto-login after successful registration\n        auth.saveLogin(response.data.token, response.data.user);\n        navigate('/', {\n          replace: true\n        });\n      } else {\n        setErrors({\n          submit: response.message || 'Registration failed. Please try again.'\n        });\n      }\n    } catch (err) {\n      console.error('Registration error:', err);\n      let errorMessage = 'Registration failed. Please try again.';\n      if (err.message && err.message.includes('Email already')) {\n        errorMessage = 'This email is already registered. Please use a different email.';\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      setErrors({\n        submit: errorMessage\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n  const isFormValid = () => {\n    const requiredFields = ['first_name', 'last_name', 'email', 'password', 'confirmPassword', 'role'];\n    const hasAllRequired = requiredFields.every(field => form[field] && form[field].toString().trim());\n    const hasValidEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email);\n    const hasValidPassword = form.password && form.password.length >= 6 && /(?=.*[a-z])(?=.*[A-Z])/.test(form.password);\n    const passwordsMatch = form.password === form.confirmPassword;\n    return hasAllRequired && hasValidEmail && hasValidPassword && passwordsMatch && Object.keys(errors).length === 0;\n  };\n  const FormField = ({\n    label,\n    name,\n    type = 'text',\n    placeholder,\n    children,\n    ...props\n  }) => {\n    const error = errors[name];\n    const isTouched = touched[name];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-label fw-semibold text-dark\",\n        children: [label, \" \", props.required && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-danger\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), children || /*#__PURE__*/_jsxDEV(\"input\", {\n        type: type,\n        name: name,\n        className: getFieldClass(name),\n        value: form[name],\n        onChange: handleChange,\n        onBlur: handleBlur,\n        placeholder: placeholder,\n        disabled: loading,\n        ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), isTouched && error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"invalid-feedback d-block\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 32\n      }, this), isTouched && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"valid-feedback d-block\",\n        children: \"Looks good!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid py-5 bg-light min-vh-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 col-lg-6 col-xl-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow border-0 rounded-4 overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-gradient-info text-white text-center py-4 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user-plus fa-3x mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mb-2 fw-bold\",\n                children: \"Join LUCT Reporting\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"opacity-75\",\n                children: \"Create your account to start reporting\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body p-4 p-md-5\",\n            children: [errors.submit && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger d-flex align-items-center rounded-3\",\n              role: \"alert\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-exclamation-triangle me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: errors.submit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: submit,\n              className: \"needs-validation\",\n              noValidate: true,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(FormField, {\n                    label: \"First Name\",\n                    name: \"first_name\",\n                    placeholder: \"Enter your first name\",\n                    required: true,\n                    minLength: \"2\",\n                    maxLength: \"50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(FormField, {\n                    label: \"Last Name\",\n                    name: \"last_name\",\n                    placeholder: \"Enter your last name\",\n                    required: true,\n                    minLength: \"2\",\n                    maxLength: \"50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormField, {\n                label: \"Email Address\",\n                name: \"email\",\n                type: \"email\",\n                placeholder: \"Enter your email address\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(FormField, {\n                    label: \"Password\",\n                    name: \"password\",\n                    type: \"password\",\n                    placeholder: \"Create a password\",\n                    minLength: \"6\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-text\",\n                    children: [\"\\u2022 At least 6 characters\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 46\n                    }, this), \"\\u2022 Upper & lowercase letters\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(FormField, {\n                    label: \"Confirm Password\",\n                    name: \"confirmPassword\",\n                    type: \"password\",\n                    placeholder: \"Confirm your password\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label fw-semibold text-dark\",\n                  children: [\"Role \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: getSelectClass('role'),\n                  name: \"role\",\n                  value: form.role,\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  disabled: loading,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Your Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Lecturer\",\n                    children: \"Lecturer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Student\",\n                    children: \"Student\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PRL\",\n                    children: \"PRL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PL\",\n                    children: \"PL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Admin\",\n                    children: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this), touched.role && errors.role && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback d-block\",\n                  children: errors.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this), touched.role && !errors.role && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"valid-feedback d-block\",\n                  children: \"Looks good!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"Select your role in the institution. This determines your access level.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-info text-white btn-lg w-100 py-3 fw-semibold rounded-pill shadow-sm mt-3\",\n                type: \"submit\",\n                disabled: loading || !isFormValid(),\n                children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-2\",\n                    role: \"status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this), \"Creating Account...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-user-plus me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 23\n                  }, this), \"Create Account\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4 pt-3 border-top\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mb-0\",\n                children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  className: \"text-info text-decoration-none fw-semibold\",\n                  children: \"Sign in here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mt-4 border-0 rounded-4 bg-light\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body p-3\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-info-circle me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Role Information:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), \" Lecturers can submit reports, Students can view reports, PRL/PL/Admin have administrative access.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"bOvXQZcob5fsVbNnfpzAd4FscqE=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","Link","useAuth","api","API_ENDPOINTS","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","form","setForm","first_name","last_name","email","password","confirmPassword","role","loading","setLoading","errors","setErrors","touched","setTouched","navigate","auth","validateField","name","value","newErrors","trim","length","test","handleChange","e","target","prev","handleBlur","validateForm","Object","keys","forEach","key","fieldErrors","assign","reduce","acc","getFieldClass","fieldName","getSelectClass","submit","preventDefault","submitData","response","post","REGISTER","success","saveLogin","data","token","user","replace","message","err","console","error","errorMessage","includes","isFormValid","requiredFields","hasAllRequired","every","field","toString","hasValidEmail","hasValidPassword","passwordsMatch","FormField","label","type","placeholder","children","props","isTouched","className","required","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onBlur","disabled","onSubmit","noValidate","minLength","maxLength","to","_c","$RefreshReg$"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../utils/auth';\nimport { api, API_ENDPOINTS } from '../utils/api';\n\nexport default function Register() {\n  const [form, setForm] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    role: 'Lecturer'\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  \n  const navigate = useNavigate();\n  const auth = useAuth();\n\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    \n    switch (name) {\n      case 'first_name':\n        if (!value.trim()) {\n          newErrors.first_name = 'First name is required';\n        } else if (value.trim().length < 2) {\n          newErrors.first_name = 'First name must be at least 2 characters';\n        } else if (!/^[a-zA-Z\\s'-]+$/.test(value.trim())) {\n          newErrors.first_name = 'First name can only contain letters, spaces, hyphens, and apostrophes';\n        } else {\n          delete newErrors.first_name;\n        }\n        break;\n      \n      case 'last_name':\n        if (!value.trim()) {\n          newErrors.last_name = 'Last name is required';\n        } else if (value.trim().length < 2) {\n          newErrors.last_name = 'Last name must be at least 2 characters';\n        } else if (!/^[a-zA-Z\\s'-]+$/.test(value.trim())) {\n          newErrors.last_name = 'Last name can only contain letters, spaces, hyphens, and apostrophes';\n        } else {\n          delete newErrors.last_name;\n        }\n        break;\n      \n      case 'email':\n        if (!value.trim()) {\n          newErrors.email = 'Email is required';\n        } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n          newErrors.email = 'Please enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      \n      case 'password':\n        if (!value) {\n          newErrors.password = 'Password is required';\n        } else if (value.length < 6) {\n          newErrors.password = 'Password must be at least 6 characters';\n        } else if (!/(?=.*[a-z])(?=.*[A-Z])/.test(value)) {\n          newErrors.password = 'Password must contain both uppercase and lowercase letters';\n        } else {\n          delete newErrors.password;\n        }\n        break;\n      \n      case 'confirmPassword':\n        if (!value) {\n          newErrors.confirmPassword = 'Please confirm your password';\n        } else if (value !== form.password) {\n          newErrors.confirmPassword = 'Passwords do not match';\n        } else {\n          delete newErrors.confirmPassword;\n        }\n        break;\n      \n      case 'role':\n        if (!value) {\n          newErrors.role = 'Please select a role';\n        } else {\n          delete newErrors.role;\n        }\n        break;\n      \n      default:\n        break;\n    }\n    \n    return newErrors;\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n    setTouched(prev => ({ ...prev, [name]: true }));\n    \n    // Validate field on change\n    const newErrors = validateField(name, value);\n    setErrors(newErrors);\n  };\n\n  const handleBlur = (e) => {\n    const { name, value } = e.target;\n    setTouched(prev => ({ ...prev, [name]: true }));\n    \n    const newErrors = validateField(name, value);\n    setErrors(newErrors);\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    // Validate all fields\n    Object.keys(form).forEach(key => {\n      const fieldErrors = validateField(key, form[key]);\n      Object.assign(newErrors, fieldErrors);\n    });\n\n    setErrors(newErrors);\n    setTouched(Object.keys(form).reduce((acc, key) => ({ ...acc, [key]: true }), {}));\n\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const getFieldClass = (fieldName) => {\n    if (!touched[fieldName]) return 'form-control';\n    return errors[fieldName] ? 'form-control is-invalid' : 'form-control is-valid';\n  };\n\n  const getSelectClass = (fieldName) => {\n    if (!touched[fieldName]) return 'form-select';\n    return errors[fieldName] ? 'form-select is-invalid' : 'form-select is-valid';\n  };\n\n  async function submit(e) {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      setErrors(prev => ({ \n        ...prev, \n        submit: 'Please fix the form errors before submitting.' \n      }));\n      return;\n    }\n\n    setLoading(true);\n    setErrors({});\n\n    try {\n      const { confirmPassword, ...submitData } = form;\n      const response = await api.post(API_ENDPOINTS.REGISTER, submitData);\n\n      if (response.success) {\n        // Auto-login after successful registration\n        auth.saveLogin(response.data.token, response.data.user);\n        navigate('/', { replace: true });\n      } else {\n        setErrors({ submit: response.message || 'Registration failed. Please try again.' });\n      }\n    } catch (err) {\n      console.error('Registration error:', err);\n      let errorMessage = 'Registration failed. Please try again.';\n      \n      if (err.message && err.message.includes('Email already')) {\n        errorMessage = 'This email is already registered. Please use a different email.';\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      \n      setErrors({ submit: errorMessage });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const isFormValid = () => {\n    const requiredFields = ['first_name', 'last_name', 'email', 'password', 'confirmPassword', 'role'];\n    const hasAllRequired = requiredFields.every(field => form[field] && form[field].toString().trim());\n    \n    const hasValidEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email);\n    const hasValidPassword = form.password && form.password.length >= 6 && /(?=.*[a-z])(?=.*[A-Z])/.test(form.password);\n    const passwordsMatch = form.password === form.confirmPassword;\n    \n    return hasAllRequired && hasValidEmail && hasValidPassword && passwordsMatch && \n           Object.keys(errors).length === 0;\n  };\n\n  const FormField = ({ label, name, type = 'text', placeholder, children, ...props }) => {\n    const error = errors[name];\n    const isTouched = touched[name];\n    \n    return (\n      <div className=\"mb-3\">\n        <label className=\"form-label fw-semibold text-dark\">\n          {label} {props.required && <span className=\"text-danger\">*</span>}\n        </label>\n        {children || (\n          <input \n            type={type}\n            name={name}\n            className={getFieldClass(name)}\n            value={form[name]}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            placeholder={placeholder}\n            disabled={loading}\n            {...props}\n          />\n        )}\n        {isTouched && error && <div className=\"invalid-feedback d-block\">{error}</div>}\n        {isTouched && !error && <div className=\"valid-feedback d-block\">Looks good!</div>}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container-fluid py-5 bg-light min-vh-100\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-8 col-lg-6 col-xl-5\">\n          <div className=\"card shadow border-0 rounded-4 overflow-hidden\">\n            <div className=\"card-header bg-gradient-info text-white text-center py-4 border-0\">\n              <div className=\"mb-3\">\n                <i className=\"fas fa-user-plus fa-3x mb-3\"></i>\n                <h4 className=\"mb-2 fw-bold\">Join LUCT Reporting</h4>\n                <small className=\"opacity-75\">Create your account to start reporting</small>\n              </div>\n            </div>\n            \n            <div className=\"card-body p-4 p-md-5\">\n              {errors.submit && (\n                <div className=\"alert alert-danger d-flex align-items-center rounded-3\" role=\"alert\">\n                  <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                  <div>{errors.submit}</div>\n                </div>\n              )}\n\n              <form onSubmit={submit} className=\"needs-validation\" noValidate>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <FormField\n                      label=\"First Name\"\n                      name=\"first_name\"\n                      placeholder=\"Enter your first name\"\n                      required\n                      minLength=\"2\"\n                      maxLength=\"50\"\n                    />\n                  </div>\n                  \n                  <div className=\"col-md-6\">\n                    <FormField\n                      label=\"Last Name\"\n                      name=\"last_name\"\n                      placeholder=\"Enter your last name\"\n                      required\n                      minLength=\"2\"\n                      maxLength=\"50\"\n                    />\n                  </div>\n                </div>\n\n                <FormField\n                  label=\"Email Address\"\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  required\n                />\n\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <FormField\n                      label=\"Password\"\n                      name=\"password\"\n                      type=\"password\"\n                      placeholder=\"Create a password\"\n                      minLength=\"6\"\n                      required\n                    />\n                    <div className=\"form-text\">\n                      • At least 6 characters<br/>\n                      • Upper & lowercase letters\n                    </div>\n                  </div>\n                  \n                  <div className=\"col-md-6\">\n                    <FormField\n                      label=\"Confirm Password\"\n                      name=\"confirmPassword\"\n                      type=\"password\"\n                      placeholder=\"Confirm your password\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-3\">\n                  <label className=\"form-label fw-semibold text-dark\">\n                    Role <span className=\"text-danger\">*</span>\n                  </label>\n                  <select \n                    className={getSelectClass('role')}\n                    name=\"role\"\n                    value={form.role} \n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    disabled={loading}\n                    required\n                  >\n                    <option value=\"\">Select Your Role</option>\n                    <option value=\"Lecturer\">Lecturer</option>\n                    <option value=\"Student\">Student</option>\n                    <option value=\"PRL\">PRL</option>\n                    <option value=\"PL\">PL</option>\n                    <option value=\"Admin\">Admin</option>\n                  </select>\n                  {touched.role && errors.role && (\n                    <div className=\"invalid-feedback d-block\">{errors.role}</div>\n                  )}\n                  {touched.role && !errors.role && (\n                    <div className=\"valid-feedback d-block\">Looks good!</div>\n                  )}\n                  <div className=\"form-text\">\n                    Select your role in the institution. This determines your access level.\n                  </div>\n                </div>\n\n                <button \n                  className=\"btn btn-info text-white btn-lg w-100 py-3 fw-semibold rounded-pill shadow-sm mt-3\" \n                  type=\"submit\"\n                  disabled={loading || !isFormValid()}\n                >\n                  {loading ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n                      Creating Account...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"fas fa-user-plus me-2\"></i>\n                      Create Account\n                    </>\n                  )}\n                </button>\n              </form>\n\n              <div className=\"text-center mt-4 pt-3 border-top\">\n                <p className=\"text-muted mb-0\">\n                  Already have an account?{' '}\n                  <Link to=\"/login\" className=\"text-info text-decoration-none fw-semibold\">\n                    Sign in here\n                  </Link>\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Role Information Card */}\n          <div className=\"card mt-4 border-0 rounded-4 bg-light\">\n            <div className=\"card-body p-3\">\n              <small className=\"text-muted\">\n                <i className=\"fas fa-info-circle me-1\"></i>\n                <strong>Role Information:</strong> Lecturers can submit reports, Students can view reports, \n                PRL/PL/Admin have administrative access.\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}