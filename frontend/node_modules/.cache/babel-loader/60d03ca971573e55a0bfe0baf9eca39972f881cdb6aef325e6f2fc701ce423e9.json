{"ast":null,"code":"// Reports.jsx - Enhanced with Role-Based Content\nimport React,{useEffect,useState}from'react';import{useAuth}from'../utils/auth';import{api,API_ENDPOINTS}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reports(_ref){let{view='all'}=_ref;const{user}=useAuth();const[reports,setReports]=useState([]);const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[filter,setFilter]=useState('all');useEffect(()=>{fetchReports();if(view==='all'){fetchStats();}},[filter,view]);const fetchReports=async()=>{try{setLoading(true);let endpoint=API_ENDPOINTS.REPORTS;const response=await api.get(endpoint,true);if(response.success){let filteredReports=response.data||[];// Apply role-based filtering\nif((user===null||user===void 0?void 0:user.role)==='Lecturer'){if(filter==='my'||view==='my-classes'){filteredReports=filteredReports.filter(report=>report.lecturer_id===user.id);}}else if((user===null||user===void 0?void 0:user.role)==='Student'){// Students see only reports relevant to their courses\nfilteredReports=filteredReports.filter(report=>report.course_id===user.course_id// Assuming student has course_id\n);}setReports(filteredReports);}}catch(err){setError(err.message||'Failed to load reports');console.error('Fetch reports error:',err);}finally{setLoading(false);}};const fetchStats=async()=>{try{const response=await api.get(API_ENDPOINTS.REPORTS_STATS,true);if(response.success){setStats(response.data);}}catch(err){console.error('Fetch stats error:',err);}};const getAttendancePercentage=(actual,total)=>{if(!actual||!total)return 0;return Math.round(actual/total*100);};const getAttendanceColor=percentage=>{if(percentage>=80)return'success';if(percentage>=60)return'warning';return'danger';};const getAttendanceVariant=percentage=>{if(percentage>=80)return'bg-success';if(percentage>=60)return'bg-warning';return'bg-danger';};const handleFilterChange=newFilter=>{setFilter(newFilter);};// Role-based configuration\nconst getRoleConfig=()=>{const config={Student:{title:'📈 Course Monitoring',description:'Track your course progress and attendance',showFilters:false,showStats:false,columns:['Report ID','Course','Lecture Date','Attendance','Week','Status']},Lecturer:{title:view==='my-classes'?'👨‍🏫 My Classes':'📊 Lecture Reports',description:view==='my-classes'?'Manage your assigned classes and reports':'Track and manage your lecture reports',showFilters:view!=='my-classes',showStats:view!=='my-classes',columns:['Report ID','Course','Class','Lecture Date','Attendance','Week','Status']},PRL:{title:'📋 Faculty Reports',description:'Overview of all reports in your faculty',showFilters:false,showStats:true,columns:['Report ID','Course','Lecturer','Lecture Date','Attendance','Week','Status']},PL:{title:'📋 Program Reports',description:'Monitor reports across your program',showFilters:false,showStats:true,columns:['Report ID','Course','Lecturer','Lecture Date','Attendance','Week','Status']},Admin:{title:'📋 System Reports',description:'Complete overview of all system reports',showFilters:false,showStats:true,columns:['Report ID','Course','Lecturer','Faculty','Lecture Date','Attendance','Week','Status']}};return config[user===null||user===void 0?void 0:user.role]||config.Lecturer;};const roleConfig=getRoleConfig();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading reports...\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Loading \",roleConfig.title.toLowerCase(),\"...\"]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center flex-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary mb-1 fw-bold\",children:roleConfig.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:roleConfig.description})]}),roleConfig.showFilters&&(user===null||user===void 0?void 0:user.role)==='Lecturer'&&/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-sm\",role:\"group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn \".concat(filter==='all'?'btn-primary':'btn-outline-primary',\" rounded-pill\"),onClick:()=>handleFilterChange('all'),children:\"All Reports\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn \".concat(filter==='my'?'btn-primary':'btn-outline-primary',\" rounded-pill\"),onClick:()=>handleFilterChange('my'),children:\"My Reports\"})]}),(user===null||user===void 0?void 0:user.role)==='Student'&&reports.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-success fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line me-1\"}),\"Overall Progress\"]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[reports.length,\" reports in your courses\"]})]})]})})}),roleConfig.showStats&&stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-start border-primary border-4 shadow-sm h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs fw-bold text-primary text-uppercase mb-1\",children:\"Total Reports\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h5 mb-0 fw-bold text-gray-800\",children:stats.total_reports})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clipboard-list fa-2x text-gray-300\"})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-start border-success border-4 shadow-sm h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs fw-bold text-success text-uppercase mb-1\",children:\"Avg Attendance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"h5 mb-0 fw-bold text-gray-800\",children:[Math.round(stats.avg_attendance),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users fa-2x text-gray-300\"})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-start border-info border-4 shadow-sm h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs fw-bold text-info text-uppercase mb-1\",children:(user===null||user===void 0?void 0:user.role)==='Lecturer'?'My Reports':'Active Lecturers'}),/*#__PURE__*/_jsx(\"div\",{className:\"h5 mb-0 fw-bold text-gray-800\",children:(user===null||user===void 0?void 0:user.role)==='Lecturer'?reports.filter(r=>r.lecturer_id===user.id).length:stats.active_lecturers})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher fa-2x text-gray-300\"})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-start border-warning border-4 shadow-sm h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs fw-bold text-warning text-uppercase mb-1\",children:\"Courses Covered\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h5 mb-0 fw-bold text-gray-800\",children:stats.courses_covered})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book fa-2x text-gray-300\"})})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow border-0 rounded-4 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white py-3 border-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"m-0 fw-bold text-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list me-2\"}),filter==='my'?'My Lecture Reports':roleConfig.title]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary rounded-pill\",children:[reports.length,\" \",reports.length===1?'Report':'Reports']})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger d-flex align-items-center rounded-3\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),/*#__PURE__*/_jsx(\"div\",{children:error})]}),reports.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clipboard-list fa-4x text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted fw-bold\",children:\"No reports found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:(user===null||user===void 0?void 0:user.role)==='Lecturer'?'You haven\\'t submitted any reports yet. Start by creating your first report!':(user===null||user===void 0?void 0:user.role)==='Student'?'No reports available for your courses yet.':'No reports have been submitted to the system yet.'}),(user===null||user===void 0?void 0:user.role)==='Lecturer'&&/*#__PURE__*/_jsxs(\"a\",{href:\"/report\",className:\"btn btn-primary rounded-pill px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Create First Report\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[roleConfig.columns.includes('Report ID')&&/*#__PURE__*/_jsx(\"th\",{children:\"Report ID\"}),roleConfig.columns.includes('Course')&&/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),roleConfig.columns.includes('Class')&&/*#__PURE__*/_jsx(\"th\",{children:\"Class\"}),roleConfig.columns.includes('Lecturer')&&/*#__PURE__*/_jsx(\"th\",{children:\"Lecturer\"}),roleConfig.columns.includes('Faculty')&&/*#__PURE__*/_jsx(\"th\",{children:\"Faculty\"}),roleConfig.columns.includes('Lecture Date')&&/*#__PURE__*/_jsx(\"th\",{children:\"Lecture Date\"}),roleConfig.columns.includes('Attendance')&&/*#__PURE__*/_jsx(\"th\",{children:\"Attendance\"}),roleConfig.columns.includes('Week')&&/*#__PURE__*/_jsx(\"th\",{children:\"Week\"}),roleConfig.columns.includes('Status')&&/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reports.map(report=>{const attendancePercent=getAttendancePercentage(report.actual_present,report.total_registered);const attendanceColor=getAttendanceColor(attendancePercent);const attendanceVariant=getAttendanceVariant(attendancePercent);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover-pointer\",children:[roleConfig.columns.includes('Report ID')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{className:\"text-primary\",children:[\"LR-\",report.id.toString().padStart(6,'0')]})}),roleConfig.columns.includes('Course')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-dark\",children:report.course_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:report.course_code})]})}),roleConfig.columns.includes('Class')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"fw-semibold\",children:report.class_name})}),roleConfig.columns.includes('Lecturer')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle text-muted me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:report.lecturer_name})]})}),roleConfig.columns.includes('Faculty')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:report.faculty_name})}),roleConfig.columns.includes('Lecture Date')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-nowrap\",children:new Date(report.lecture_date).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'})})}),roleConfig.columns.includes('Attendance')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress flex-grow-1 me-2\",style:{height:'8px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar \".concat(attendanceVariant),style:{width:\"\".concat(attendancePercent,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-nowrap\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"fw-semibold\",children:[report.actual_present||0,\"/\",report.total_registered||0]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-\".concat(attendanceColor,\" fw-bold\"),children:[attendancePercent,\"%\"]})]})]})}),roleConfig.columns.includes('Week')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary rounded-pill\",children:[\"Week \",report.week_of_reporting]})}),roleConfig.columns.includes('Status')&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success rounded-pill\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check me-1\"}),\"Submitted\"]})})]},report.id);})})]})})]})]}),(user===null||user===void 0?void 0:user.role)==='Student'&&reports.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"row mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line me-2\"}),\"Your Learning Progress\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-success fw-bold fs-4\",children:reports.length}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Total Sessions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-info fw-bold fs-4\",children:[Math.round(reports.reduce((acc,report)=>acc+report.actual_present/report.total_registered,0)/reports.length*100),\"%\"]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Avg Attendance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-warning fw-bold fs-4\",children:new Set(reports.map(r=>r.course_id)).size}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Courses\"})]})]})]})})})})]});}","map":{"version":3,"names":["React","useEffect","useState","useAuth","api","API_ENDPOINTS","jsx","_jsx","jsxs","_jsxs","Reports","_ref","view","user","reports","setReports","stats","setStats","loading","setLoading","error","setError","filter","setFilter","fetchReports","fetchStats","endpoint","REPORTS","response","get","success","filteredReports","data","role","report","lecturer_id","id","course_id","err","message","console","REPORTS_STATS","getAttendancePercentage","actual","total","Math","round","getAttendanceColor","percentage","getAttendanceVariant","handleFilterChange","newFilter","getRoleConfig","config","Student","title","description","showFilters","showStats","columns","Lecturer","PRL","PL","Admin","roleConfig","className","children","toLowerCase","type","concat","onClick","length","total_reports","avg_attendance","r","active_lecturers","courses_covered","href","includes","map","attendancePercent","actual_present","total_registered","attendanceColor","attendanceVariant","toString","padStart","course_name","course_code","class_name","lecturer_name","faculty_name","Date","lecture_date","toLocaleDateString","year","month","day","style","height","width","week_of_reporting","reduce","acc","Set","size"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/pages/Reports.jsx"],"sourcesContent":["// Reports.jsx - Enhanced with Role-Based Content\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../utils/auth';\nimport { api, API_ENDPOINTS } from '../utils/api';\n\nexport default function Reports({ view = 'all' }) {\n  const { user } = useAuth();\n  const [reports, setReports] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filter, setFilter] = useState('all');\n\n  useEffect(() => {\n    fetchReports();\n    if (view === 'all') {\n      fetchStats();\n    }\n  }, [filter, view]);\n\n  const fetchReports = async () => {\n    try {\n      setLoading(true);\n      let endpoint = API_ENDPOINTS.REPORTS;\n      \n      const response = await api.get(endpoint, true);\n      \n      if (response.success) {\n        let filteredReports = response.data || [];\n        \n        // Apply role-based filtering\n        if (user?.role === 'Lecturer') {\n          if (filter === 'my' || view === 'my-classes') {\n            filteredReports = filteredReports.filter(report => report.lecturer_id === user.id);\n          }\n        } else if (user?.role === 'Student') {\n          // Students see only reports relevant to their courses\n          filteredReports = filteredReports.filter(report => \n            report.course_id === user.course_id // Assuming student has course_id\n          );\n        }\n        \n        setReports(filteredReports);\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to load reports');\n      console.error('Fetch reports error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await api.get(API_ENDPOINTS.REPORTS_STATS, true);\n      if (response.success) {\n        setStats(response.data);\n      }\n    } catch (err) {\n      console.error('Fetch stats error:', err);\n    }\n  };\n\n  const getAttendancePercentage = (actual, total) => {\n    if (!actual || !total) return 0;\n    return Math.round((actual / total) * 100);\n  };\n\n  const getAttendanceColor = (percentage) => {\n    if (percentage >= 80) return 'success';\n    if (percentage >= 60) return 'warning';\n    return 'danger';\n  };\n\n  const getAttendanceVariant = (percentage) => {\n    if (percentage >= 80) return 'bg-success';\n    if (percentage >= 60) return 'bg-warning';\n    return 'bg-danger';\n  };\n\n  const handleFilterChange = (newFilter) => {\n    setFilter(newFilter);\n  };\n\n  // Role-based configuration\n  const getRoleConfig = () => {\n    const config = {\n      Student: {\n        title: '📈 Course Monitoring',\n        description: 'Track your course progress and attendance',\n        showFilters: false,\n        showStats: false,\n        columns: ['Report ID', 'Course', 'Lecture Date', 'Attendance', 'Week', 'Status']\n      },\n      Lecturer: {\n        title: view === 'my-classes' ? '👨‍🏫 My Classes' : '📊 Lecture Reports',\n        description: view === 'my-classes' ? 'Manage your assigned classes and reports' : 'Track and manage your lecture reports',\n        showFilters: view !== 'my-classes',\n        showStats: view !== 'my-classes',\n        columns: ['Report ID', 'Course', 'Class', 'Lecture Date', 'Attendance', 'Week', 'Status']\n      },\n      PRL: {\n        title: '📋 Faculty Reports',\n        description: 'Overview of all reports in your faculty',\n        showFilters: false,\n        showStats: true,\n        columns: ['Report ID', 'Course', 'Lecturer', 'Lecture Date', 'Attendance', 'Week', 'Status']\n      },\n      PL: {\n        title: '📋 Program Reports',\n        description: 'Monitor reports across your program',\n        showFilters: false,\n        showStats: true,\n        columns: ['Report ID', 'Course', 'Lecturer', 'Lecture Date', 'Attendance', 'Week', 'Status']\n      },\n      Admin: {\n        title: '📋 System Reports',\n        description: 'Complete overview of all system reports',\n        showFilters: false,\n        showStats: true,\n        columns: ['Report ID', 'Course', 'Lecturer', 'Faculty', 'Lecture Date', 'Attendance', 'Week', 'Status']\n      }\n    };\n    return config[user?.role] || config.Lecturer;\n  };\n\n  const roleConfig = getRoleConfig();\n\n  if (loading) {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"d-flex justify-content-center align-items-center py-5\">\n          <div className=\"text-center\">\n            <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n              <span className=\"visually-hidden\">Loading reports...</span>\n            </div>\n            <p className=\"text-muted\">Loading {roleConfig.title.toLowerCase()}...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      {/* Header with Role-Based Content */}\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <div className=\"d-flex justify-content-between align-items-center flex-wrap\">\n            <div>\n              <h4 className=\"text-primary mb-1 fw-bold\">{roleConfig.title}</h4>\n              <p className=\"text-muted mb-0\">{roleConfig.description}</p>\n            </div>\n            \n            {/* Role-Based Controls */}\n            {roleConfig.showFilters && user?.role === 'Lecturer' && (\n              <div className=\"btn-group btn-group-sm\" role=\"group\">\n                <button\n                  type=\"button\"\n                  className={`btn ${filter === 'all' ? 'btn-primary' : 'btn-outline-primary'} rounded-pill`}\n                  onClick={() => handleFilterChange('all')}\n                >\n                  All Reports\n                </button>\n                <button\n                  type=\"button\"\n                  className={`btn ${filter === 'my' ? 'btn-primary' : 'btn-outline-primary'} rounded-pill`}\n                  onClick={() => handleFilterChange('my')}\n                >\n                  My Reports\n                </button>\n              </div>\n            )}\n\n            {/* Student Progress Summary */}\n            {user?.role === 'Student' && reports.length > 0 && (\n              <div className=\"text-end\">\n                <div className=\"text-success fw-bold\">\n                  <i className=\"fas fa-chart-line me-1\"></i>\n                  Overall Progress\n                </div>\n                <small className=\"text-muted\">\n                  {reports.length} reports in your courses\n                </small>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Role-Based Stats Overview */}\n      {roleConfig.showStats && stats && (\n        <div className=\"row mb-4\">\n          <div className=\"col-xl-3 col-md-6 mb-4\">\n            <div className=\"card border-start border-primary border-4 shadow-sm h-100\">\n              <div className=\"card-body\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col\">\n                    <div className=\"text-xs fw-bold text-primary text-uppercase mb-1\">\n                      Total Reports\n                    </div>\n                    <div className=\"h5 mb-0 fw-bold text-gray-800\">\n                      {stats.total_reports}\n                    </div>\n                  </div>\n                  <div className=\"col-auto\">\n                    <i className=\"fas fa-clipboard-list fa-2x text-gray-300\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-xl-3 col-md-6 mb-4\">\n            <div className=\"card border-start border-success border-4 shadow-sm h-100\">\n              <div className=\"card-body\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col\">\n                    <div className=\"text-xs fw-bold text-success text-uppercase mb-1\">\n                      Avg Attendance\n                    </div>\n                    <div className=\"h5 mb-0 fw-bold text-gray-800\">\n                      {Math.round(stats.avg_attendance)}%\n                    </div>\n                  </div>\n                  <div className=\"col-auto\">\n                    <i className=\"fas fa-users fa-2x text-gray-300\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-xl-3 col-md-6 mb-4\">\n            <div className=\"card border-start border-info border-4 shadow-sm h-100\">\n              <div className=\"card-body\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col\">\n                    <div className=\"text-xs fw-bold text-info text-uppercase mb-1\">\n                      {user?.role === 'Lecturer' ? 'My Reports' : 'Active Lecturers'}\n                    </div>\n                    <div className=\"h5 mb-0 fw-bold text-gray-800\">\n                      {user?.role === 'Lecturer' ? \n                        reports.filter(r => r.lecturer_id === user.id).length : \n                        stats.active_lecturers\n                      }\n                    </div>\n                  </div>\n                  <div className=\"col-auto\">\n                    <i className=\"fas fa-chalkboard-teacher fa-2x text-gray-300\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"col-xl-3 col-md-6 mb-4\">\n            <div className=\"card border-start border-warning border-4 shadow-sm h-100\">\n              <div className=\"card-body\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col\">\n                    <div className=\"text-xs fw-bold text-warning text-uppercase mb-1\">\n                      Courses Covered\n                    </div>\n                    <div className=\"h5 mb-0 fw-bold text-gray-800\">\n                      {stats.courses_covered}\n                    </div>\n                  </div>\n                  <div className=\"col-auto\">\n                    <i className=\"fas fa-book fa-2x text-gray-300\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Reports Table */}\n      <div className=\"card shadow border-0 rounded-4 overflow-hidden\">\n        <div className=\"card-header bg-white py-3 border-bottom\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <h6 className=\"m-0 fw-bold text-primary\">\n              <i className=\"fas fa-list me-2\"></i>\n              {filter === 'my' ? 'My Lecture Reports' : roleConfig.title}\n            </h6>\n            <span className=\"badge bg-primary rounded-pill\">\n              {reports.length} {reports.length === 1 ? 'Report' : 'Reports'}\n            </span>\n          </div>\n        </div>\n        \n        <div className=\"card-body\">\n          {error && (\n            <div className=\"alert alert-danger d-flex align-items-center rounded-3\" role=\"alert\">\n              <i className=\"fas fa-exclamation-triangle me-2\"></i>\n              <div>{error}</div>\n            </div>\n          )}\n\n          {reports.length === 0 ? (\n            <div className=\"text-center py-5\">\n              <i className=\"fas fa-clipboard-list fa-4x text-muted mb-3\"></i>\n              <h5 className=\"text-muted fw-bold\">No reports found</h5>\n              <p className=\"text-muted mb-4\">\n                {user?.role === 'Lecturer' \n                  ? 'You haven\\'t submitted any reports yet. Start by creating your first report!' \n                  : user?.role === 'Student'\n                  ? 'No reports available for your courses yet.'\n                  : 'No reports have been submitted to the system yet.'\n                }\n              </p>\n              {user?.role === 'Lecturer' && (\n                <a href=\"/report\" className=\"btn btn-primary rounded-pill px-4\">\n                  <i className=\"fas fa-plus me-2\"></i>\n                  Create First Report\n                </a>\n              )}\n            </div>\n          ) : (\n            <div className=\"table-responsive\">\n              <table className=\"table table-hover align-middle\">\n                <thead className=\"table-light\">\n                  <tr>\n                    {roleConfig.columns.includes('Report ID') && <th>Report ID</th>}\n                    {roleConfig.columns.includes('Course') && <th>Course</th>}\n                    {roleConfig.columns.includes('Class') && <th>Class</th>}\n                    {roleConfig.columns.includes('Lecturer') && <th>Lecturer</th>}\n                    {roleConfig.columns.includes('Faculty') && <th>Faculty</th>}\n                    {roleConfig.columns.includes('Lecture Date') && <th>Lecture Date</th>}\n                    {roleConfig.columns.includes('Attendance') && <th>Attendance</th>}\n                    {roleConfig.columns.includes('Week') && <th>Week</th>}\n                    {roleConfig.columns.includes('Status') && <th>Status</th>}\n                  </tr>\n                </thead>\n                <tbody>\n                  {reports.map(report => {\n                    const attendancePercent = getAttendancePercentage(\n                      report.actual_present, \n                      report.total_registered\n                    );\n                    const attendanceColor = getAttendanceColor(attendancePercent);\n                    const attendanceVariant = getAttendanceVariant(attendancePercent);\n\n                    return (\n                      <tr key={report.id} className=\"hover-pointer\">\n                        {roleConfig.columns.includes('Report ID') && (\n                          <td>\n                            <strong className=\"text-primary\">LR-{report.id.toString().padStart(6, '0')}</strong>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Course') && (\n                          <td>\n                            <div>\n                              <strong className=\"text-dark\">{report.course_name}</strong>\n                              <br />\n                              <small className=\"text-muted\">{report.course_code}</small>\n                            </div>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Class') && (\n                          <td>\n                            <span className=\"fw-semibold\">{report.class_name}</span>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Lecturer') && (\n                          <td>\n                            <div className=\"d-flex align-items-center\">\n                              <i className=\"fas fa-user-circle text-muted me-2\"></i>\n                              <span>{report.lecturer_name}</span>\n                            </div>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Faculty') && (\n                          <td>\n                            <span className=\"badge bg-secondary\">{report.faculty_name}</span>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Lecture Date') && (\n                          <td>\n                            <div className=\"text-nowrap\">\n                              {new Date(report.lecture_date).toLocaleDateString('en-US', {\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric'\n                              })}\n                            </div>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Attendance') && (\n                          <td>\n                            <div className=\"d-flex align-items-center\">\n                              <div className=\"progress flex-grow-1 me-2\" style={{ height: '8px' }}>\n                                <div \n                                  className={`progress-bar ${attendanceVariant}`}\n                                  style={{ width: `${attendancePercent}%` }}\n                                ></div>\n                              </div>\n                              <div className=\"text-nowrap\">\n                                <small className=\"fw-semibold\">\n                                  {report.actual_present || 0}/{report.total_registered || 0}\n                                </small>\n                                <br />\n                                <small className={`text-${attendanceColor} fw-bold`}>\n                                  {attendancePercent}%\n                                </small>\n                              </div>\n                            </div>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Week') && (\n                          <td>\n                            <span className=\"badge bg-secondary rounded-pill\">\n                              Week {report.week_of_reporting}\n                            </span>\n                          </td>\n                        )}\n                        {roleConfig.columns.includes('Status') && (\n                          <td>\n                            <span className=\"badge bg-success rounded-pill\">\n                              <i className=\"fas fa-check me-1\"></i>\n                              Submitted\n                            </span>\n                          </td>\n                        )}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Student-Specific Progress Section */}\n      {user?.role === 'Student' && reports.length > 0 && (\n        <div className=\"row mt-4\">\n          <div className=\"col-12\">\n            <div className=\"card border-0 bg-light\">\n              <div className=\"card-body\">\n                <h6 className=\"text-primary mb-3\">\n                  <i className=\"fas fa-chart-line me-2\"></i>\n                  Your Learning Progress\n                </h6>\n                <div className=\"row text-center\">\n                  <div className=\"col-md-4\">\n                    <div className=\"text-success fw-bold fs-4\">\n                      {reports.length}\n                    </div>\n                    <small className=\"text-muted\">Total Sessions</small>\n                  </div>\n                  <div className=\"col-md-4\">\n                    <div className=\"text-info fw-bold fs-4\">\n                      {Math.round(reports.reduce((acc, report) => acc + (report.actual_present / report.total_registered), 0) / reports.length * 100)}%\n                    </div>\n                    <small className=\"text-muted\">Avg Attendance</small>\n                  </div>\n                  <div className=\"col-md-4\">\n                    <div className=\"text-warning fw-bold fs-4\">\n                      {new Set(reports.map(r => r.course_id)).size}\n                    </div>\n                    <small className=\"text-muted\">Courses</small>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}