{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Wailer\\\\Downloads\\\\luct_reporting_app_\\\\luct_reporting_app\\\\frontend\\\\src\\\\pages\\\\ReportForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../utils/auth\";\nimport { api, API_ENDPOINTS } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ReportForm() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [faculties, setFaculties] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const initialFormState = {\n    faculty_id: \"\",\n    class_id: \"\",\n    week_of_reporting: \"\",\n    lecture_date: new Date().toISOString().split(\"T\")[0],\n    course_id: \"\",\n    course_code: \"\",\n    actual_present: \"\",\n    total_registered: \"\",\n    venue: \"\",\n    scheduled_time: \"\",\n    topic: \"\",\n    learning_outcomes: \"\",\n    recommendations: \"\"\n  };\n  const [form, setForm] = useState(initialFormState);\n\n  // Fetch dropdown data\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        const [facRes, courseRes, classRes] = await Promise.all([api.get(API_ENDPOINTS.FACULTIES, true), api.get(API_ENDPOINTS.COURSES, true), api.get(API_ENDPOINTS.CLASSES, true)]);\n        setFaculties(facRes.data || []);\n        setCourses(courseRes.data || []);\n        setClasses(classRes.data || []);\n      } catch (err) {\n        console.error(\"Failed to load dropdown data:\", err);\n        setErrors({\n          general: \"Failed to load form data. Please refresh the page.\"\n        });\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, []);\n\n  // Fetch course details when course_id changes\n  useEffect(() => {\n    async function fetchCourseDetails() {\n      if (!form.course_id) {\n        setForm(prev => ({\n          ...prev,\n          course_code: \"\",\n          total_registered: \"\"\n        }));\n        return;\n      }\n      try {\n        const res = await api.get(`${API_ENDPOINTS.COURSES}/${form.course_id}`, true);\n        if (res.success) {\n          setForm(prev => ({\n            ...prev,\n            total_registered: res.data.total_registered || \"\",\n            course_code: res.data.course_code || \"\"\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch course details:\", err);\n      }\n    }\n    fetchCourseDetails();\n  }, [form.course_id]);\n\n  // Fetch class details when class_id changes\n  useEffect(() => {\n    async function fetchClassDetails() {\n      if (!form.class_id) {\n        setForm(prev => ({\n          ...prev,\n          venue: \"\",\n          scheduled_time: \"\"\n        }));\n        return;\n      }\n      try {\n        const selectedClass = classes.find(cl => cl.id === parseInt(form.class_id));\n        if (selectedClass) {\n          setForm(prev => ({\n            ...prev,\n            venue: selectedClass.venue || \"\",\n            scheduled_time: selectedClass.scheduled_time || \"\",\n            course_id: selectedClass.course_id || prev.course_id\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch class details:\", err);\n      }\n    }\n    fetchClassDetails();\n  }, [form.class_id, classes]);\n\n  // Validation\n  const validateField = (name, value) => {\n    const newErrors = {\n      ...errors\n    };\n    switch (name) {\n      case \"actual_present\":\n        if (value && form.total_registered && parseInt(value) > parseInt(form.total_registered)) {\n          newErrors.actual_present = \"Actual present cannot exceed total registered\";\n        } else delete newErrors.actual_present;\n        break;\n      case \"lecture_date\":\n        if (new Date(value) > new Date()) newErrors.lecture_date = \"Lecture date cannot be in the future\";else delete newErrors.lecture_date;\n        break;\n      case \"week_of_reporting\":\n        if (value && (parseInt(value) < 1 || parseInt(value) > 52)) newErrors.week_of_reporting = \"Week must be between 1 and 52\";else delete newErrors.week_of_reporting;\n        break;\n      default:\n        if (!value && [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"].includes(name)) newErrors[name] = \"This field is required\";else delete newErrors[name];\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const validateForm = () => {\n    const requiredFields = [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"];\n    const newErrors = {};\n    requiredFields.forEach(f => {\n      if (!form[f]) newErrors[f] = \"This field is required\";\n    });\n    if (form.actual_present && form.total_registered && parseInt(form.actual_present) > parseInt(form.total_registered)) {\n      newErrors.actual_present = \"Actual present cannot exceed total registered\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!validateForm()) {\n      setErrors({\n        ...errors,\n        general: \"Please fix the form errors before submitting.\"\n      });\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await api.post(API_ENDPOINTS.REPORTS, form, true);\n      if (response.success) {\n        setSuccess(true);\n        setForm(initialFormState);\n        setErrors({});\n        setTimeout(() => setSuccess(false), 5000);\n      }\n    } catch (err) {\n      console.error(\"Submit failed:\", err);\n      setErrors({\n        general: err.message || \"Failed to submit report\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n  const resetForm = () => {\n    setForm(initialFormState);\n    setErrors({});\n  };\n\n  // UI Helpers\n  const InputField = ({\n    label,\n    name,\n    type = \"text\",\n    value,\n    onChange,\n    error,\n    className = \"mb-3\",\n    ...rest\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold text-dark\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: type,\n      name: name,\n      className: `form-control ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: e => {\n        onChange(e);\n        validateField(name, e.target.value);\n      },\n      ...rest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n  const TextArea = ({\n    label,\n    name,\n    value,\n    onChange,\n    error,\n    rows = 3,\n    required\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold text-dark\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: name,\n      className: `form-control ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: onChange,\n      rows: rows,\n      required: required,\n      placeholder: `Enter ${label.toLowerCase()}...`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n  const SelectInput = ({\n    label,\n    name,\n    options,\n    value,\n    onChange,\n    error,\n    required,\n    optionLabel,\n    className = \"col-md-4 mb-3\"\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"form-label fw-semibold text-dark\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: name,\n      className: `form-select ${error ? \"is-invalid\" : \"\"}`,\n      value: value,\n      onChange: e => {\n        onChange(e);\n        validateField(name, e.target.value);\n      },\n      required: required,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: [\"Select \", label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: opt.id,\n        children: typeof optionLabel === \"function\" ? optionLabel(opt) : opt[optionLabel]\n      }, opt.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invalid-feedback\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n  if (loading && faculties.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center align-items-center py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border text-primary mb-3\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Loading form...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"Loading report form...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow border-0 rounded-4 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-gradient-primary text-white py-4 border-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-clipboard-list fa-2x me-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mb-1 fw-bold\",\n              children: \"Lecture Reporting Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"opacity-75\",\n              children: \"Submit detailed reports for your lectures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body p-4\",\n        children: [errors.general && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger d-flex align-items-center rounded-3\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-exclamation-triangle me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: errors.general\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success d-flex align-items-center rounded-3\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-check-circle me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Success!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), \" Report submitted successfully.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info border-0 rounded-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user-circle me-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Reporting as:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this), \" \", user === null || user === void 0 ? void 0 : user.first_name, \" \", user === null || user === void 0 ? void 0 : user.last_name, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-dark ms-2 text-capitalize\",\n                    children: user === null || user === void 0 ? void 0 : user.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Faculty\",\n              name: \"faculty_id\",\n              options: faculties,\n              value: form.faculty_id,\n              onChange: e => setForm({\n                ...form,\n                faculty_id: e.target.value\n              }),\n              error: errors.faculty_id,\n              optionLabel: \"name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Course\",\n              name: \"course_id\",\n              options: courses,\n              value: form.course_id,\n              onChange: e => setForm({\n                ...form,\n                course_id: e.target.value\n              }),\n              error: errors.course_id,\n              optionLabel: c => `${c.course_name} (${c.course_code})`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n              label: \"Class\",\n              name: \"class_id\",\n              options: classes,\n              value: form.class_id,\n              onChange: e => setForm({\n                ...form,\n                class_id: e.target.value\n              }),\n              error: errors.class_id,\n              optionLabel: cl => cl.class_name || `Class ${cl.id}`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Week of Reporting\",\n              name: \"week_of_reporting\",\n              type: \"number\",\n              min: \"1\",\n              max: \"52\",\n              value: form.week_of_reporting,\n              onChange: e => setForm({\n                ...form,\n                week_of_reporting: e.target.value\n              }),\n              error: errors.week_of_reporting,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Date of Lecture\",\n              name: \"lecture_date\",\n              type: \"date\",\n              value: form.lecture_date,\n              onChange: e => setForm({\n                ...form,\n                lecture_date: e.target.value\n              }),\n              error: errors.lecture_date,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Scheduled Time\",\n              name: \"scheduled_time\",\n              value: form.scheduled_time,\n              onChange: e => setForm({\n                ...form,\n                scheduled_time: e.target.value\n              }),\n              className: \"col-md-4 mb-3\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Actual Present\",\n              name: \"actual_present\",\n              type: \"number\",\n              min: \"0\",\n              value: form.actual_present,\n              onChange: e => setForm({\n                ...form,\n                actual_present: e.target.value\n              }),\n              error: errors.actual_present,\n              className: \"col-md-4 mb-3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Total Registered\",\n              name: \"total_registered\",\n              type: \"number\",\n              value: form.total_registered,\n              readOnly: true,\n              className: \"col-md-4 mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Venue\",\n              name: \"venue\",\n              value: form.venue,\n              onChange: e => setForm({\n                ...form,\n                venue: e.target.value\n              }),\n              className: \"col-md-4 mb-3\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(TextArea, {\n                label: \"Topic Taught\",\n                name: \"topic\",\n                value: form.topic,\n                onChange: e => setForm({\n                  ...form,\n                  topic: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n                label: \"Learning Outcomes\",\n                name: \"learning_outcomes\",\n                value: form.learning_outcomes,\n                onChange: e => setForm({\n                  ...form,\n                  learning_outcomes: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n                label: \"Recommendations & Notes\",\n                name: \"recommendations\",\n                value: form.recommendations,\n                onChange: e => setForm({\n                  ...form,\n                  recommendations: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-3 justify-content-end border-top pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-secondary rounded-pill px-4\",\n              onClick: resetForm,\n              disabled: loading,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-eraser me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this), \"Clear Form\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary rounded-pill px-4\",\n              type: \"submit\",\n              disabled: loading || Object.keys(errors).length > 0,\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), \"Submitting...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-paper-plane me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this), \"Submit Report\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportForm, \"E8DJBTzVlT49UVhx00kl7FK5eWo=\", false, function () {\n  return [useAuth];\n});\n_c = ReportForm;\nvar _c;\n$RefreshReg$(_c, \"ReportForm\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","api","API_ENDPOINTS","jsxDEV","_jsxDEV","Fragment","_Fragment","ReportForm","_s","user","loading","setLoading","errors","setErrors","success","setSuccess","faculties","setFaculties","courses","setCourses","classes","setClasses","initialFormState","faculty_id","class_id","week_of_reporting","lecture_date","Date","toISOString","split","course_id","course_code","actual_present","total_registered","venue","scheduled_time","topic","learning_outcomes","recommendations","form","setForm","fetchData","facRes","courseRes","classRes","Promise","all","get","FACULTIES","COURSES","CLASSES","data","err","console","error","general","fetchCourseDetails","prev","res","fetchClassDetails","selectedClass","find","cl","id","parseInt","validateField","name","value","newErrors","includes","Object","keys","length","validateForm","requiredFields","forEach","f","handleSubmit","e","preventDefault","response","post","REPORTS","setTimeout","message","resetForm","InputField","label","type","onChange","className","rest","children","fileName","_jsxFileName","lineNumber","columnNumber","target","TextArea","rows","required","placeholder","toLowerCase","SelectInput","options","optionLabel","map","opt","role","first_name","last_name","onSubmit","c","course_name","class_name","min","max","readOnly","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/pages/ReportForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../utils/auth\";\nimport { api, API_ENDPOINTS } from \"../utils/api\";\n\nexport default function ReportForm() {\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n\n  const [faculties, setFaculties] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [classes, setClasses] = useState([]);\n\n  const initialFormState = {\n    faculty_id: \"\",\n    class_id: \"\",\n    week_of_reporting: \"\",\n    lecture_date: new Date().toISOString().split(\"T\")[0],\n    course_id: \"\",\n    course_code: \"\",\n    actual_present: \"\",\n    total_registered: \"\",\n    venue: \"\",\n    scheduled_time: \"\",\n    topic: \"\",\n    learning_outcomes: \"\",\n    recommendations: \"\",\n  };\n\n  const [form, setForm] = useState(initialFormState);\n\n  // Fetch dropdown data\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        const [facRes, courseRes, classRes] = await Promise.all([\n          api.get(API_ENDPOINTS.FACULTIES, true),\n          api.get(API_ENDPOINTS.COURSES, true),\n          api.get(API_ENDPOINTS.CLASSES, true)\n        ]);\n        setFaculties(facRes.data || []);\n        setCourses(courseRes.data || []);\n        setClasses(classRes.data || []);\n      } catch (err) {\n        console.error(\"Failed to load dropdown data:\", err);\n        setErrors({ general: \"Failed to load form data. Please refresh the page.\" });\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  // Fetch course details when course_id changes\n  useEffect(() => {\n    async function fetchCourseDetails() {\n      if (!form.course_id) {\n        setForm((prev) => ({ ...prev, course_code: \"\", total_registered: \"\" }));\n        return;\n      }\n      try {\n        const res = await api.get(`${API_ENDPOINTS.COURSES}/${form.course_id}`, true);\n        if (res.success) {\n          setForm((prev) => ({\n            ...prev,\n            total_registered: res.data.total_registered || \"\",\n            course_code: res.data.course_code || \"\",\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch course details:\", err);\n      }\n    }\n    fetchCourseDetails();\n  }, [form.course_id]);\n\n  // Fetch class details when class_id changes\n  useEffect(() => {\n    async function fetchClassDetails() {\n      if (!form.class_id) {\n        setForm((prev) => ({ ...prev, venue: \"\", scheduled_time: \"\" }));\n        return;\n      }\n      try {\n        const selectedClass = classes.find((cl) => cl.id === parseInt(form.class_id));\n        if (selectedClass) {\n          setForm((prev) => ({\n            ...prev,\n            venue: selectedClass.venue || \"\",\n            scheduled_time: selectedClass.scheduled_time || \"\",\n            course_id: selectedClass.course_id || prev.course_id,\n          }));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch class details:\", err);\n      }\n    }\n    fetchClassDetails();\n  }, [form.class_id, classes]);\n\n  // Validation\n  const validateField = (name, value) => {\n    const newErrors = { ...errors };\n    switch (name) {\n      case \"actual_present\":\n        if (value && form.total_registered && parseInt(value) > parseInt(form.total_registered)) {\n          newErrors.actual_present = \"Actual present cannot exceed total registered\";\n        } else delete newErrors.actual_present;\n        break;\n      case \"lecture_date\":\n        if (new Date(value) > new Date()) newErrors.lecture_date = \"Lecture date cannot be in the future\";\n        else delete newErrors.lecture_date;\n        break;\n      case \"week_of_reporting\":\n        if (value && (parseInt(value) < 1 || parseInt(value) > 52)) newErrors.week_of_reporting = \"Week must be between 1 and 52\";\n        else delete newErrors.week_of_reporting;\n        break;\n      default:\n        if (!value && [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"].includes(name))\n          newErrors[name] = \"This field is required\";\n        else delete newErrors[name];\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const validateForm = () => {\n    const requiredFields = [\"faculty_id\", \"class_id\", \"course_id\", \"week_of_reporting\", \"lecture_date\"];\n    const newErrors = {};\n    requiredFields.forEach((f) => {\n      if (!form[f]) newErrors[f] = \"This field is required\";\n    });\n    if (form.actual_present && form.total_registered && parseInt(form.actual_present) > parseInt(form.total_registered)) {\n      newErrors.actual_present = \"Actual present cannot exceed total registered\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!validateForm()) {\n      setErrors({ ...errors, general: \"Please fix the form errors before submitting.\" });\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await api.post(API_ENDPOINTS.REPORTS, form, true);\n      if (response.success) {\n        setSuccess(true);\n        setForm(initialFormState);\n        setErrors({});\n        setTimeout(() => setSuccess(false), 5000);\n      }\n    } catch (err) {\n      console.error(\"Submit failed:\", err);\n      setErrors({ general: err.message || \"Failed to submit report\" });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const resetForm = () => {\n    setForm(initialFormState);\n    setErrors({});\n  };\n\n  // UI Helpers\n  const InputField = ({ label, name, type = \"text\", value, onChange, error, className = \"mb-3\", ...rest }) => (\n    <div className={className}>\n      <label className=\"form-label fw-semibold text-dark\">{label}</label>\n      <input \n        type={type} \n        name={name} \n        className={`form-control ${error ? \"is-invalid\" : \"\"}`} \n        value={value} \n        onChange={(e) => {\n          onChange(e);\n          validateField(name, e.target.value);\n        }}\n        {...rest} \n      />\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n\n  const TextArea = ({ label, name, value, onChange, error, rows = 3, required }) => (\n    <div className=\"mb-3\">\n      <label className=\"form-label fw-semibold text-dark\">{label}</label>\n      <textarea \n        name={name} \n        className={`form-control ${error ? \"is-invalid\" : \"\"}`} \n        value={value} \n        onChange={onChange} \n        rows={rows} \n        required={required}\n        placeholder={`Enter ${label.toLowerCase()}...`}\n      ></textarea>\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n\n  const SelectInput = ({ label, name, options, value, onChange, error, required, optionLabel, className = \"col-md-4 mb-3\" }) => (\n    <div className={className}>\n      <label className=\"form-label fw-semibold text-dark\">{label}</label>\n      <select \n        name={name} \n        className={`form-select ${error ? \"is-invalid\" : \"\"}`} \n        value={value} \n        onChange={(e) => {\n          onChange(e);\n          validateField(name, e.target.value);\n        }}\n        required={required}\n      >\n        <option value=\"\">Select {label}</option>\n        {options.map((opt) => (\n          <option key={opt.id} value={opt.id}>\n            {typeof optionLabel === \"function\" ? optionLabel(opt) : opt[optionLabel]}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n\n  if (loading && faculties.length === 0) {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"d-flex justify-content-center align-items-center py-5\">\n          <div className=\"text-center\">\n            <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n              <span className=\"visually-hidden\">Loading form...</span>\n            </div>\n            <p className=\"text-muted\">Loading report form...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"card shadow border-0 rounded-4 overflow-hidden\">\n        <div className=\"card-header bg-gradient-primary text-white py-4 border-0\">\n          <div className=\"d-flex align-items-center\">\n            <i className=\"fas fa-clipboard-list fa-2x me-3\"></i>\n            <div>\n              <h4 className=\"mb-1 fw-bold\">Lecture Reporting Form</h4>\n              <small className=\"opacity-75\">Submit detailed reports for your lectures</small>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card-body p-4\">\n          {errors.general && (\n            <div className=\"alert alert-danger d-flex align-items-center rounded-3\" role=\"alert\">\n              <i className=\"fas fa-exclamation-triangle me-2\"></i>\n              <div>{errors.general}</div>\n            </div>\n          )}\n\n          {success && (\n            <div className=\"alert alert-success d-flex align-items-center rounded-3\" role=\"alert\">\n              <i className=\"fas fa-check-circle me-2\"></i>\n              <div>\n                <strong>Success!</strong> Report submitted successfully.\n              </div>\n            </div>\n          )}\n\n          {/* Lecturer Info */}\n          <div className=\"row mb-4\">\n            <div className=\"col-12\">\n              <div className=\"alert alert-info border-0 rounded-3\">\n                <div className=\"d-flex align-items-center\">\n                  <i className=\"fas fa-user-circle me-3\"></i>\n                  <div>\n                    <strong>Reporting as:</strong> {user?.first_name} {user?.last_name} \n                    <span className=\"badge bg-dark ms-2 text-capitalize\">{user?.role}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            {/* Faculty, Course, Class */}\n            <div className=\"row mb-4\">\n              <SelectInput \n                label=\"Faculty\" \n                name=\"faculty_id\" \n                options={faculties} \n                value={form.faculty_id} \n                onChange={(e) => setForm({ ...form, faculty_id: e.target.value })} \n                error={errors.faculty_id} \n                optionLabel=\"name\" \n                required \n              />\n              <SelectInput \n                label=\"Course\" \n                name=\"course_id\" \n                options={courses} \n                value={form.course_id} \n                onChange={(e) => setForm({ ...form, course_id: e.target.value })} \n                error={errors.course_id} \n                optionLabel={(c) => `${c.course_name} (${c.course_code})`} \n                required \n              />\n              <SelectInput \n                label=\"Class\" \n                name=\"class_id\" \n                options={classes} \n                value={form.class_id} \n                onChange={(e) => setForm({ ...form, class_id: e.target.value })} \n                error={errors.class_id} \n                optionLabel={(cl) => cl.class_name || `Class ${cl.id}`} \n                required \n              />\n            </div>\n\n            {/* Schedule */}\n            <div className=\"row mb-4\">\n              <InputField \n                label=\"Week of Reporting\" \n                name=\"week_of_reporting\" \n                type=\"number\" \n                min=\"1\" \n                max=\"52\" \n                value={form.week_of_reporting} \n                onChange={(e) => setForm({ ...form, week_of_reporting: e.target.value })} \n                error={errors.week_of_reporting} \n                className=\"col-md-4 mb-3\" \n                required \n              />\n              <InputField \n                label=\"Date of Lecture\" \n                name=\"lecture_date\" \n                type=\"date\" \n                value={form.lecture_date} \n                onChange={(e) => setForm({ ...form, lecture_date: e.target.value })} \n                error={errors.lecture_date} \n                className=\"col-md-4 mb-3\" \n                required \n              />\n              <InputField \n                label=\"Scheduled Time\" \n                name=\"scheduled_time\" \n                value={form.scheduled_time} \n                onChange={(e) => setForm({ ...form, scheduled_time: e.target.value })} \n                className=\"col-md-4 mb-3\" \n                readOnly \n              />\n            </div>\n\n            {/* Attendance */}\n            <div className=\"row mb-4\">\n              <InputField \n                label=\"Actual Present\" \n                name=\"actual_present\" \n                type=\"number\" \n                min=\"0\" \n                value={form.actual_present} \n                onChange={(e) => setForm({ ...form, actual_present: e.target.value })} \n                error={errors.actual_present} \n                className=\"col-md-4 mb-3\" \n                required \n              />\n              <InputField \n                label=\"Total Registered\" \n                name=\"total_registered\" \n                type=\"number\" \n                value={form.total_registered} \n                readOnly \n                className=\"col-md-4 mb-3\" \n              />\n              <InputField \n                label=\"Venue\" \n                name=\"venue\" \n                value={form.venue} \n                onChange={(e) => setForm({ ...form, venue: e.target.value })} \n                className=\"col-md-4 mb-3\" \n                readOnly \n              />\n            </div>\n\n            {/* Content */}\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <TextArea \n                  label=\"Topic Taught\" \n                  name=\"topic\" \n                  value={form.topic} \n                  onChange={(e) => setForm({ ...form, topic: e.target.value })} \n                  required \n                />\n                <TextArea \n                  label=\"Learning Outcomes\" \n                  name=\"learning_outcomes\" \n                  value={form.learning_outcomes} \n                  onChange={(e) => setForm({ ...form, learning_outcomes: e.target.value })} \n                  required \n                />\n                <TextArea \n                  label=\"Recommendations & Notes\" \n                  name=\"recommendations\" \n                  value={form.recommendations} \n                  onChange={(e) => setForm({ ...form, recommendations: e.target.value })} \n                />\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"d-flex gap-3 justify-content-end border-top pt-4\">\n              <button \n                type=\"button\" \n                className=\"btn btn-outline-secondary rounded-pill px-4\" \n                onClick={resetForm} \n                disabled={loading}\n              >\n                <i className=\"fas fa-eraser me-2\"></i>\n                Clear Form\n              </button>\n              <button \n                className=\"btn btn-primary rounded-pill px-4\" \n                type=\"submit\" \n                disabled={loading || Object.keys(errors).length > 0}\n              >\n                {loading ? (\n                  <>\n                    <span className=\"spinner-border spinner-border-sm me-2\"></span>\n                    Submitting...\n                  </>\n                ) : (\n                  <>\n                    <i className=\"fas fa-paper-plane me-2\"></i>\n                    Submit Report\n                  </>\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}