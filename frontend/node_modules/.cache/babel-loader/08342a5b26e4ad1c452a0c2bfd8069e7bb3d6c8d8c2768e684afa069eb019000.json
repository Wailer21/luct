{"ast":null,"code":"import _objectSpread from\"C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";// Base API URL\nconst API_BASE_URL=process.env.REACT_APP_API_URL||\"https://luct-7.onrender.com\";export const API_ENDPOINTS={// Auth\nREGISTER:\"\".concat(API_BASE_URL,\"/api/auth/register\"),LOGIN:\"\".concat(API_BASE_URL,\"/api/auth/login\"),ME:\"\".concat(API_BASE_URL,\"/api/auth/me\"),// Data\nFACULTIES:\"\".concat(API_BASE_URL,\"/api/faculties\"),COURSES:\"\".concat(API_BASE_URL,\"/api/courses\"),CLASSES:\"\".concat(API_BASE_URL,\"/api/classes\"),MY_CLASSES:\"\".concat(API_BASE_URL,\"/api/my-classes\"),LECTURERS:\"\".concat(API_BASE_URL,\"/api/lecturers\"),// Reports\nREPORTS:\"\".concat(API_BASE_URL,\"/api/reports\"),REPORTS_STATS:\"\".concat(API_BASE_URL,\"/api/reports/stats\"),REPORTS_BY_ID:id=>\"\".concat(API_BASE_URL,\"/api/reports/\").concat(id),REPORTS_FEEDBACK:id=>\"\".concat(API_BASE_URL,\"/api/reports/\").concat(id,\"/feedback\"),// Ratings\nRATINGS:\"\".concat(API_BASE_URL,\"/api/ratings\"),RATINGS_MY:\"\".concat(API_BASE_URL,\"/api/ratings/my-ratings\"),RATINGS_LECTURER:\"\".concat(API_BASE_URL,\"/api/ratings/lecturer\"),// Search\nSEARCH:\"\".concat(API_BASE_URL,\"/api/search\"),// Student\nSTUDENT_ATTENDANCE:\"\".concat(API_BASE_URL,\"/api/students/attendance\"),STUDENT_STATS:\"\".concat(API_BASE_URL,\"/api/students/stats\"),STUDENT_PERFORMANCE:\"\".concat(API_BASE_URL,\"/api/students/performance\"),// Analytics\nANALYTICS_OVERVIEW:\"\".concat(API_BASE_URL,\"/api/analytics/overview\"),ANALYTICS_TRENDS:\"\".concat(API_BASE_URL,\"/api/analytics/trends\"),// User Management\nUSERS:\"\".concat(API_BASE_URL,\"/api/users\"),USERS_UPDATE_ROLE:id=>\"\".concat(API_BASE_URL,\"/api/users/\").concat(id,\"/role\"),// Health\nHEALTH:\"\".concat(API_BASE_URL,\"/api/health\"),TEST:\"\".concat(API_BASE_URL,\"/api/test\")};// Get token from localStorage\nexport const getAuthToken=()=>{return localStorage.getItem(\"token\");};// Enhanced API instance with interceptors\nconst apiInstance=axios.create({baseURL:API_BASE_URL,timeout:10000// Reduced to 10 seconds for faster feedback\n});// Request interceptor to add auth token\napiInstance.interceptors.request.use(config=>{var _config$method;const token=getAuthToken();if(token){config.headers.Authorization=\"Bearer \".concat(token);}config.headers[\"Content-Type\"]=\"application/json\";// Add timestamp for debugging\nconfig.metadata={startTime:new Date()};console.log(\"\\uD83D\\uDE80 API Request: \".concat((_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\" \").concat(config.url));return config;},error=>{console.error(\"❌ Request interceptor error:\",error);return Promise.reject(error);});// Response interceptor for error handling\napiInstance.interceptors.response.use(response=>{var _response$config$meth;const endTime=new Date();const duration=endTime-response.config.metadata.startTime;console.log(\"\\u2705 API Response: \".concat((_response$config$meth=response.config.method)===null||_response$config$meth===void 0?void 0:_response$config$meth.toUpperCase(),\" \").concat(response.config.url),{status:response.status,duration:\"\".concat(duration,\"ms\")});return response;},error=>{var _error$config,_error$config$method,_error$config2,_error$response,_error$response2;const endTime=new Date();const duration=error.config?endTime-error.config.metadata.startTime:'N/A';console.error(\"\\uD83D\\uDCA5 API Error: \".concat((_error$config=error.config)===null||_error$config===void 0?void 0:(_error$config$method=_error$config.method)===null||_error$config$method===void 0?void 0:_error$config$method.toUpperCase(),\" \").concat((_error$config2=error.config)===null||_error$config2===void 0?void 0:_error$config2.url),{status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,duration:\"\".concat(duration,\"ms\"),error:error.message,code:error.code});if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401){console.warn(\"🔐 Authentication failed - redirecting to login\");localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setTimeout(()=>{window.location.href=\"/login\";},100);}return Promise.reject(error);});// Enhanced API call wrapper with better error handling and retry logic\nexport const apiCall=async function(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let retries=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;const maxRetries=retries;try{var _config$method2;const config=_objectSpread({url:endpoint},options);console.log(\"\\uD83D\\uDD04 API Call attempt: \".concat(((_config$method2=config.method)===null||_config$method2===void 0?void 0:_config$method2.toUpperCase())||'GET',\" \").concat(endpoint,\" (\").concat(maxRetries-retries+1,\"/\").concat(maxRetries+1,\")\"));const response=await apiInstance(config);// Handle HTML error responses (when backend returns HTML instead of JSON)\nconst contentType=response.headers['content-type'];if(contentType&&contentType.includes('text/html')){throw new Error(\"Server returned HTML error page (Status: \".concat(response.status,\")\"));}// Handle backend response format\nif(response.data&&response.data.success===false){const error=new Error(response.data.message||\"Request failed\");error.response=response;throw error;}return response.data;}catch(error){var _options$method,_error$response3,_error$response4,_error$response4$stat,_error$response5,_error$response6,_error$response7,_error$response8,_error$response0,_error$response1;const isTimeout=error.code==='ECONNABORTED'||error.message.includes('timeout');const isNetworkError=error.message.includes('Network Error')||!error.response;const isCorsError=error.message.includes('CORS')||error.message.includes('Access-Control');console.error(\"\\u274C API Call failed: \".concat(((_options$method=options.method)===null||_options$method===void 0?void 0:_options$method.toUpperCase())||'GET',\" \").concat(endpoint),{error:error.message,code:error.code,status:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status,isTimeout,isNetworkError,isCorsError,retriesLeft:retries});// Retry logic for timeout and network errors (but not for 4xx errors)\nif((isTimeout||isNetworkError)&&retries>0&&!((_error$response4=error.response)!==null&&_error$response4!==void 0&&(_error$response4$stat=_error$response4.status)!==null&&_error$response4$stat!==void 0&&_error$response4$stat.toString().startsWith('4'))){const delay=Math.pow(2,maxRetries-retries)*1000;// Exponential backoff\nconsole.log(\"\\u23F3 Retrying in \".concat(delay,\"ms... (\").concat(retries,\" retries left)\"));await new Promise(resolve=>setTimeout(resolve,delay));return apiCall(endpoint,options,retries-1);}// Enhanced error handling\nif(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===401){// Already handled in interceptor\n}// Return a consistent error format\nlet errorMessage;if(isCorsError){errorMessage=\"CORS error: Backend is not configured to accept requests from this origin. Please check backend CORS settings.\";}else if(isTimeout){errorMessage=\"Backend server is not responding. Please check if the server is running.\";}else if(isNetworkError){errorMessage=\"Network connection failed. Please check your internet connection.\";}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===400){errorMessage=\"Bad Request: Invalid data sent to server. Please check your input.\";}else if(((_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.status)===404){errorMessage=\"Endpoint not found. The requested resource does not exist.\";}else if(((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.status)===500){errorMessage=\"Server error. Please try again later.\";}else{var _error$response9,_error$response9$data;errorMessage=((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||error.message||\"API request failed\";}throw{success:false,message:errorMessage,status:(_error$response0=error.response)===null||_error$response0===void 0?void 0:_error$response0.status,code:error.code,data:(_error$response1=error.response)===null||_error$response1===void 0?void 0:_error$response1.data,isTimeout,isNetworkError,isCorsError};}};// Enhanced API methods with proper response handling\nexport const api={get:async function(endpoint){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const response=await apiCall(endpoint,{method:\"GET\",params});return{success:true,data:response.data||response,message:response.message||\"Request successful\",status:200};}catch(error){return{success:false,message:error.message,error:error.data,status:error.status,code:error.code,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError,data:null};}},post:async function(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const response=await apiCall(endpoint,{method:\"POST\",data});return{success:true,data:response.data||response,message:response.message||\"Created successfully\",status:201};}catch(error){return{success:false,message:error.message,error:error.data,status:error.status,code:error.code,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError,data:null};}},put:async function(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const response=await apiCall(endpoint,{method:\"PUT\",data});return{success:true,data:response.data||response,message:response.message||\"Updated successfully\",status:200};}catch(error){return{success:false,message:error.message,error:error.data,status:error.status,code:error.code,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError,data:null};}},delete:async endpoint=>{try{const response=await apiCall(endpoint,{method:\"DELETE\"});return{success:true,data:response.data||response,message:response.message||\"Deleted successfully\",status:200};}catch(error){return{success:false,message:error.message,error:error.data,status:error.status,code:error.code,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError,data:null};}}};// Convenience methods for specific endpoints\nexport const apiMethods={// Auth\nlogin:credentials=>api.post(API_ENDPOINTS.LOGIN,credentials),register:userData=>api.post(API_ENDPOINTS.REGISTER,userData),getProfile:()=>api.get(API_ENDPOINTS.ME),// Data\ngetFaculties:()=>api.get(API_ENDPOINTS.FACULTIES),getCourses:()=>api.get(API_ENDPOINTS.COURSES),getClasses:()=>api.get(API_ENDPOINTS.CLASSES),getMyClasses:()=>api.get(API_ENDPOINTS.MY_CLASSES),getLecturers:()=>api.get(API_ENDPOINTS.LECTURERS),// Reports\ngetReports:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get(API_ENDPOINTS.REPORTS,params);},getReportStats:()=>api.get(API_ENDPOINTS.REPORTS_STATS),getReportById:id=>api.get(API_ENDPOINTS.REPORTS_BY_ID(id)),createReport:data=>api.post(API_ENDPOINTS.REPORTS,data),submitFeedback:(id,feedback)=>api.post(API_ENDPOINTS.REPORTS_FEEDBACK(id),{feedback}),// Ratings\ngetMyRatings:()=>api.get(API_ENDPOINTS.RATINGS_MY),getLecturerRatings:()=>api.get(API_ENDPOINTS.RATINGS_LECTURER),submitRating:ratingData=>api.post(API_ENDPOINTS.RATINGS,ratingData),// Student Monitoring\ngetStudentAttendance:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get(API_ENDPOINTS.STUDENT_ATTENDANCE,params);},getStudentStats:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get(API_ENDPOINTS.STUDENT_STATS,params);},getStudentPerformance:()=>api.get(API_ENDPOINTS.STUDENT_PERFORMANCE),// Analytics\ngetAnalyticsOverview:()=>api.get(API_ENDPOINTS.ANALYTICS_OVERVIEW),getAnalyticsTrends:()=>api.get(API_ENDPOINTS.ANALYTICS_TRENDS),// User Management\ngetUsers:()=>api.get(API_ENDPOINTS.USERS),updateUserRole:(id,role)=>api.put(API_ENDPOINTS.USERS_UPDATE_ROLE(id),{role}),// Search\nsearch:query=>api.get(API_ENDPOINTS.SEARCH,{q:query}),// System\nhealthCheck:()=>api.get(API_ENDPOINTS.HEALTH),testConnection:()=>api.get(API_ENDPOINTS.TEST)};// Enhanced backend connection test with detailed diagnostics\nexport const testBackendConnection=async()=>{console.group('🔍 Backend Connection Diagnostics');try{console.log('📡 Testing connection to:',API_BASE_URL);const startTime=Date.now();const testResponse=await apiMethods.testConnection();const endTime=Date.now();console.log('✅ Backend connection successful:',{responseTime:\"\".concat(endTime-startTime,\"ms\"),status:testResponse.status,data:testResponse.data});return{connected:true,responseTime:endTime-startTime,status:testResponse.status,message:'Backend is responding correctly'};}catch(error){console.error('❌ Backend connection failed:',{message:error.message,status:error.status,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError});return{connected:false,message:error.message,isTimeout:error.isTimeout,isNetworkError:error.isNetworkError,isCorsError:error.isCorsError,status:error.status};}finally{console.groupEnd();}};// Connection status monitor\nlet connectionStatus='unknown';export const getConnectionStatus=()=>connectionStatus;// Initialize connection test with retry\nexport const initializeApp=async()=>{console.log('🚀 Initializing application...');// Wait a bit for backend to wake up (if it's sleeping)\nawait new Promise(resolve=>setTimeout(resolve,2000));const result=await testBackendConnection();connectionStatus=result.connected?'connected':'disconnected';if(!result.connected){console.warn('⚠️ Application starting in limited mode. Some features may not work.');// Show user-friendly warning\nif(typeof window!=='undefined'&&result.isCorsError){setTimeout(()=>{const alertDiv=document.createElement('div');alertDiv.className='alert alert-warning alert-dismissible fade show';alertDiv.style.cssText='position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;';alertDiv.innerHTML=\"\\n          <strong>\\u26A0\\uFE0F CORS Configuration Issue</strong>\\n          <p class=\\\"mb-1\\\">Backend is not accepting requests from this origin. Please check backend CORS settings.</p>\\n          <button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"alert\\\"></button>\\n        \";document.body.appendChild(alertDiv);},1000);}}return result;};// Export connection utilities\nexport const connectionUtils={testBackendConnection,getConnectionStatus,initializeApp};// Auto-initialize (but don't block app startup)\nsetTimeout(()=>{initializeApp();},1000);export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","API_ENDPOINTS","REGISTER","concat","LOGIN","ME","FACULTIES","COURSES","CLASSES","MY_CLASSES","LECTURERS","REPORTS","REPORTS_STATS","REPORTS_BY_ID","id","REPORTS_FEEDBACK","RATINGS","RATINGS_MY","RATINGS_LECTURER","SEARCH","STUDENT_ATTENDANCE","STUDENT_STATS","STUDENT_PERFORMANCE","ANALYTICS_OVERVIEW","ANALYTICS_TRENDS","USERS","USERS_UPDATE_ROLE","HEALTH","TEST","getAuthToken","localStorage","getItem","apiInstance","create","baseURL","timeout","interceptors","request","use","config","_config$method","token","headers","Authorization","metadata","startTime","Date","console","log","method","toUpperCase","url","error","Promise","reject","response","_response$config$meth","endTime","duration","status","_error$config","_error$config$method","_error$config2","_error$response","_error$response2","message","code","warn","removeItem","setTimeout","window","location","href","apiCall","endpoint","options","arguments","length","undefined","retries","maxRetries","_config$method2","_objectSpread","contentType","includes","Error","data","success","_options$method","_error$response3","_error$response4","_error$response4$stat","_error$response5","_error$response6","_error$response7","_error$response8","_error$response0","_error$response1","isTimeout","isNetworkError","isCorsError","retriesLeft","toString","startsWith","delay","Math","pow","resolve","errorMessage","_error$response9","_error$response9$data","api","get","params","post","put","delete","apiMethods","login","credentials","register","userData","getProfile","getFaculties","getCourses","getClasses","getMyClasses","getLecturers","getReports","getReportStats","getReportById","createReport","submitFeedback","feedback","getMyRatings","getLecturerRatings","submitRating","ratingData","getStudentAttendance","getStudentStats","getStudentPerformance","getAnalyticsOverview","getAnalyticsTrends","getUsers","updateUserRole","role","search","query","q","healthCheck","testConnection","testBackendConnection","group","now","testResponse","responseTime","connected","groupEnd","connectionStatus","getConnectionStatus","initializeApp","result","alertDiv","document","createElement","className","style","cssText","innerHTML","body","appendChild","connectionUtils"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Base API URL\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"https://luct-7.onrender.com\";\r\n\r\nexport const API_ENDPOINTS = {\r\n  // Auth\r\n  REGISTER: `${API_BASE_URL}/api/auth/register`,\r\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\r\n  ME: `${API_BASE_URL}/api/auth/me`,\r\n\r\n  // Data\r\n  FACULTIES: `${API_BASE_URL}/api/faculties`,\r\n  COURSES: `${API_BASE_URL}/api/courses`,\r\n  CLASSES: `${API_BASE_URL}/api/classes`,\r\n  MY_CLASSES: `${API_BASE_URL}/api/my-classes`,\r\n  LECTURERS: `${API_BASE_URL}/api/lecturers`,\r\n\r\n  // Reports\r\n  REPORTS: `${API_BASE_URL}/api/reports`,\r\n  REPORTS_STATS: `${API_BASE_URL}/api/reports/stats`,\r\n  REPORTS_BY_ID: (id) => `${API_BASE_URL}/api/reports/${id}`,\r\n  REPORTS_FEEDBACK: (id) => `${API_BASE_URL}/api/reports/${id}/feedback`,\r\n\r\n  // Ratings\r\n  RATINGS: `${API_BASE_URL}/api/ratings`,\r\n  RATINGS_MY: `${API_BASE_URL}/api/ratings/my-ratings`,\r\n  RATINGS_LECTURER: `${API_BASE_URL}/api/ratings/lecturer`,\r\n\r\n  // Search\r\n  SEARCH: `${API_BASE_URL}/api/search`,\r\n\r\n  // Student\r\n  STUDENT_ATTENDANCE: `${API_BASE_URL}/api/students/attendance`,\r\n  STUDENT_STATS: `${API_BASE_URL}/api/students/stats`,\r\n  STUDENT_PERFORMANCE: `${API_BASE_URL}/api/students/performance`,\r\n\r\n  // Analytics\r\n  ANALYTICS_OVERVIEW: `${API_BASE_URL}/api/analytics/overview`,\r\n  ANALYTICS_TRENDS: `${API_BASE_URL}/api/analytics/trends`,\r\n\r\n  // User Management\r\n  USERS: `${API_BASE_URL}/api/users`,\r\n  USERS_UPDATE_ROLE: (id) => `${API_BASE_URL}/api/users/${id}/role`,\r\n\r\n  // Health\r\n  HEALTH: `${API_BASE_URL}/api/health`,\r\n  TEST: `${API_BASE_URL}/api/test`,\r\n};\r\n\r\n// Get token from localStorage\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(\"token\");\r\n};\r\n\r\n// Enhanced API instance with interceptors\r\nconst apiInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 10000, // Reduced to 10 seconds for faster feedback\r\n});\r\n\r\n// Request interceptor to add auth token\r\napiInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = getAuthToken();\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    config.headers[\"Content-Type\"] = \"application/json\";\r\n    \r\n    // Add timestamp for debugging\r\n    config.metadata = { startTime: new Date() };\r\n    \r\n    console.log(`🚀 API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error(\"❌ Request interceptor error:\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napiInstance.interceptors.response.use(\r\n  (response) => {\r\n    const endTime = new Date();\r\n    const duration = endTime - response.config.metadata.startTime;\r\n    \r\n    console.log(`✅ API Response: ${response.config.method?.toUpperCase()} ${response.config.url}`, {\r\n      status: response.status,\r\n      duration: `${duration}ms`\r\n    });\r\n    \r\n    return response;\r\n  },\r\n  (error) => {\r\n    const endTime = new Date();\r\n    const duration = error.config ? endTime - error.config.metadata.startTime : 'N/A';\r\n    \r\n    console.error(`💥 API Error: ${error.config?.method?.toUpperCase()} ${error.config?.url}`, {\r\n      status: error.response?.status,\r\n      duration: `${duration}ms`,\r\n      error: error.message,\r\n      code: error.code\r\n    });\r\n\r\n    if (error.response?.status === 401) {\r\n      console.warn(\"🔐 Authentication failed - redirecting to login\");\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n      setTimeout(() => {\r\n        window.location.href = \"/login\";\r\n      }, 100);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Enhanced API call wrapper with better error handling and retry logic\r\nexport const apiCall = async (endpoint, options = {}, retries = 2) => {\r\n  const maxRetries = retries;\r\n  \r\n  try {\r\n    const config = {\r\n      url: endpoint,\r\n      ...options,\r\n    };\r\n\r\n    console.log(`🔄 API Call attempt: ${config.method?.toUpperCase() || 'GET'} ${endpoint} (${maxRetries - retries + 1}/${maxRetries + 1})`);\r\n\r\n    const response = await apiInstance(config);\r\n    \r\n    // Handle HTML error responses (when backend returns HTML instead of JSON)\r\n    const contentType = response.headers['content-type'];\r\n    if (contentType && contentType.includes('text/html')) {\r\n      throw new Error(`Server returned HTML error page (Status: ${response.status})`);\r\n    }\r\n    \r\n    // Handle backend response format\r\n    if (response.data && response.data.success === false) {\r\n      const error = new Error(response.data.message || \"Request failed\");\r\n      error.response = response;\r\n      throw error;\r\n    }\r\n    \r\n    return response.data;\r\n  } catch (error) {\r\n    const isTimeout = error.code === 'ECONNABORTED' || error.message.includes('timeout');\r\n    const isNetworkError = error.message.includes('Network Error') || !error.response;\r\n    const isCorsError = error.message.includes('CORS') || error.message.includes('Access-Control');\r\n    \r\n    console.error(`❌ API Call failed: ${options.method?.toUpperCase() || 'GET'} ${endpoint}`, {\r\n      error: error.message,\r\n      code: error.code,\r\n      status: error.response?.status,\r\n      isTimeout,\r\n      isNetworkError,\r\n      isCorsError,\r\n      retriesLeft: retries\r\n    });\r\n\r\n    // Retry logic for timeout and network errors (but not for 4xx errors)\r\n    if ((isTimeout || isNetworkError) && retries > 0 && !error.response?.status?.toString().startsWith('4')) {\r\n      const delay = Math.pow(2, maxRetries - retries) * 1000; // Exponential backoff\r\n      console.log(`⏳ Retrying in ${delay}ms... (${retries} retries left)`);\r\n      \r\n      await new Promise(resolve => setTimeout(resolve, delay));\r\n      return apiCall(endpoint, options, retries - 1);\r\n    }\r\n    \r\n    // Enhanced error handling\r\n    if (error.response?.status === 401) {\r\n      // Already handled in interceptor\r\n    }\r\n    \r\n    // Return a consistent error format\r\n    let errorMessage;\r\n    \r\n    if (isCorsError) {\r\n      errorMessage = \"CORS error: Backend is not configured to accept requests from this origin. Please check backend CORS settings.\";\r\n    } else if (isTimeout) {\r\n      errorMessage = \"Backend server is not responding. Please check if the server is running.\";\r\n    } else if (isNetworkError) {\r\n      errorMessage = \"Network connection failed. Please check your internet connection.\";\r\n    } else if (error.response?.status === 400) {\r\n      errorMessage = \"Bad Request: Invalid data sent to server. Please check your input.\";\r\n    } else if (error.response?.status === 404) {\r\n      errorMessage = \"Endpoint not found. The requested resource does not exist.\";\r\n    } else if (error.response?.status === 500) {\r\n      errorMessage = \"Server error. Please try again later.\";\r\n    } else {\r\n      errorMessage = error.response?.data?.message || error.message || \"API request failed\";\r\n    }\r\n    \r\n    throw {\r\n      success: false,\r\n      message: errorMessage,\r\n      status: error.response?.status,\r\n      code: error.code,\r\n      data: error.response?.data,\r\n      isTimeout,\r\n      isNetworkError,\r\n      isCorsError\r\n    };\r\n  }\r\n};\r\n\r\n// Enhanced API methods with proper response handling\r\nexport const api = {\r\n  get: async (endpoint, params = {}) => {\r\n    try {\r\n      const response = await apiCall(endpoint, { \r\n        method: \"GET\",\r\n        params \r\n      });\r\n      \r\n      return {\r\n        success: true,\r\n        data: response.data || response,\r\n        message: response.message || \"Request successful\",\r\n        status: 200\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message,\r\n        error: error.data,\r\n        status: error.status,\r\n        code: error.code,\r\n        isTimeout: error.isTimeout,\r\n        isNetworkError: error.isNetworkError,\r\n        isCorsError: error.isCorsError,\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n  \r\n  post: async (endpoint, data = {}) => {\r\n    try {\r\n      const response = await apiCall(endpoint, { \r\n        method: \"POST\", \r\n        data \r\n      });\r\n      \r\n      return {\r\n        success: true,\r\n        data: response.data || response,\r\n        message: response.message || \"Created successfully\",\r\n        status: 201\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message,\r\n        error: error.data,\r\n        status: error.status,\r\n        code: error.code,\r\n        isTimeout: error.isTimeout,\r\n        isNetworkError: error.isNetworkError,\r\n        isCorsError: error.isCorsError,\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n  \r\n  put: async (endpoint, data = {}) => {\r\n    try {\r\n      const response = await apiCall(endpoint, { \r\n        method: \"PUT\", \r\n        data \r\n      });\r\n      return {\r\n        success: true,\r\n        data: response.data || response,\r\n        message: response.message || \"Updated successfully\",\r\n        status: 200\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message,\r\n        error: error.data,\r\n        status: error.status,\r\n        code: error.code,\r\n        isTimeout: error.isTimeout,\r\n        isNetworkError: error.isNetworkError,\r\n        isCorsError: error.isCorsError,\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n  \r\n  delete: async (endpoint) => {\r\n    try {\r\n      const response = await apiCall(endpoint, { \r\n        method: \"DELETE\" \r\n      });\r\n      return {\r\n        success: true,\r\n        data: response.data || response,\r\n        message: response.message || \"Deleted successfully\",\r\n        status: 200\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message,\r\n        error: error.data,\r\n        status: error.status,\r\n        code: error.code,\r\n        isTimeout: error.isTimeout,\r\n        isNetworkError: error.isNetworkError,\r\n        isCorsError: error.isCorsError,\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n};\r\n\r\n// Convenience methods for specific endpoints\r\nexport const apiMethods = {\r\n  // Auth\r\n  login: (credentials) => api.post(API_ENDPOINTS.LOGIN, credentials),\r\n  register: (userData) => api.post(API_ENDPOINTS.REGISTER, userData),\r\n  getProfile: () => api.get(API_ENDPOINTS.ME),\r\n  \r\n  // Data\r\n  getFaculties: () => api.get(API_ENDPOINTS.FACULTIES),\r\n  getCourses: () => api.get(API_ENDPOINTS.COURSES),\r\n  getClasses: () => api.get(API_ENDPOINTS.CLASSES),\r\n  getMyClasses: () => api.get(API_ENDPOINTS.MY_CLASSES),\r\n  getLecturers: () => api.get(API_ENDPOINTS.LECTURERS),\r\n  \r\n  // Reports\r\n  getReports: (params = {}) => api.get(API_ENDPOINTS.REPORTS, params),\r\n  getReportStats: () => api.get(API_ENDPOINTS.REPORTS_STATS),\r\n  getReportById: (id) => api.get(API_ENDPOINTS.REPORTS_BY_ID(id)),\r\n  createReport: (data) => api.post(API_ENDPOINTS.REPORTS, data),\r\n  submitFeedback: (id, feedback) => api.post(API_ENDPOINTS.REPORTS_FEEDBACK(id), { feedback }),\r\n  \r\n  // Ratings\r\n  getMyRatings: () => api.get(API_ENDPOINTS.RATINGS_MY),\r\n  getLecturerRatings: () => api.get(API_ENDPOINTS.RATINGS_LECTURER),\r\n  submitRating: (ratingData) => api.post(API_ENDPOINTS.RATINGS, ratingData),\r\n  \r\n  // Student Monitoring\r\n  getStudentAttendance: (params = {}) => api.get(API_ENDPOINTS.STUDENT_ATTENDANCE, params),\r\n  getStudentStats: (params = {}) => api.get(API_ENDPOINTS.STUDENT_STATS, params),\r\n  getStudentPerformance: () => api.get(API_ENDPOINTS.STUDENT_PERFORMANCE),\r\n  \r\n  // Analytics\r\n  getAnalyticsOverview: () => api.get(API_ENDPOINTS.ANALYTICS_OVERVIEW),\r\n  getAnalyticsTrends: () => api.get(API_ENDPOINTS.ANALYTICS_TRENDS),\r\n  \r\n  // User Management\r\n  getUsers: () => api.get(API_ENDPOINTS.USERS),\r\n  updateUserRole: (id, role) => api.put(API_ENDPOINTS.USERS_UPDATE_ROLE(id), { role }),\r\n  \r\n  // Search\r\n  search: (query) => api.get(API_ENDPOINTS.SEARCH, { q: query }),\r\n  \r\n  // System\r\n  healthCheck: () => api.get(API_ENDPOINTS.HEALTH),\r\n  testConnection: () => api.get(API_ENDPOINTS.TEST),\r\n};\r\n\r\n// Enhanced backend connection test with detailed diagnostics\r\nexport const testBackendConnection = async () => {\r\n  console.group('🔍 Backend Connection Diagnostics');\r\n  \r\n  try {\r\n    console.log('📡 Testing connection to:', API_BASE_URL);\r\n    \r\n    const startTime = Date.now();\r\n    const testResponse = await apiMethods.testConnection();\r\n    const endTime = Date.now();\r\n    \r\n    console.log('✅ Backend connection successful:', {\r\n      responseTime: `${endTime - startTime}ms`,\r\n      status: testResponse.status,\r\n      data: testResponse.data\r\n    });\r\n    \r\n    return {\r\n      connected: true,\r\n      responseTime: endTime - startTime,\r\n      status: testResponse.status,\r\n      message: 'Backend is responding correctly'\r\n    };\r\n  } catch (error) {\r\n    console.error('❌ Backend connection failed:', {\r\n      message: error.message,\r\n      status: error.status,\r\n      isTimeout: error.isTimeout,\r\n      isNetworkError: error.isNetworkError,\r\n      isCorsError: error.isCorsError\r\n    });\r\n    \r\n    return {\r\n      connected: false,\r\n      message: error.message,\r\n      isTimeout: error.isTimeout,\r\n      isNetworkError: error.isNetworkError,\r\n      isCorsError: error.isCorsError,\r\n      status: error.status\r\n    };\r\n  } finally {\r\n    console.groupEnd();\r\n  }\r\n};\r\n\r\n// Connection status monitor\r\nlet connectionStatus = 'unknown';\r\nexport const getConnectionStatus = () => connectionStatus;\r\n\r\n// Initialize connection test with retry\r\nexport const initializeApp = async () => {\r\n  console.log('🚀 Initializing application...');\r\n  \r\n  // Wait a bit for backend to wake up (if it's sleeping)\r\n  await new Promise(resolve => setTimeout(resolve, 2000));\r\n  \r\n  const result = await testBackendConnection();\r\n  connectionStatus = result.connected ? 'connected' : 'disconnected';\r\n  \r\n  if (!result.connected) {\r\n    console.warn('⚠️ Application starting in limited mode. Some features may not work.');\r\n    \r\n    // Show user-friendly warning\r\n    if (typeof window !== 'undefined' && result.isCorsError) {\r\n      setTimeout(() => {\r\n        const alertDiv = document.createElement('div');\r\n        alertDiv.className = 'alert alert-warning alert-dismissible fade show';\r\n        alertDiv.style.cssText = 'position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;';\r\n        alertDiv.innerHTML = `\r\n          <strong>⚠️ CORS Configuration Issue</strong>\r\n          <p class=\"mb-1\">Backend is not accepting requests from this origin. Please check backend CORS settings.</p>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n        `;\r\n        document.body.appendChild(alertDiv);\r\n      }, 1000);\r\n    }\r\n  }\r\n  \r\n  return result;\r\n};\r\n\r\n// Export connection utilities\r\nexport const connectionUtils = {\r\n  testBackendConnection,\r\n  getConnectionStatus,\r\n  initializeApp\r\n};\r\n\r\n// Auto-initialize (but don't block app startup)\r\nsetTimeout(() => {\r\n  initializeApp();\r\n}, 1000);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}