{"ast":null,"code":"import _objectSpread from\"C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../utils/auth';import{apiMethods}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ReportForm(){const[formData,setFormData]=useState({faculty_id:'',class_name:'',week_of_reporting:'',lecture_date:'',course_id:'',actual_present:'',total_registered:'',venue:'',scheduled_time:'',topic:'',learning_outcomes:'',recommendations:''});const[faculties,setFaculties]=useState([]);const[courses,setCourses]=useState([]);const[classes,setClasses]=useState([]);const[loading,setLoading]=useState(false);const[initialLoading,setInitialLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[validationErrors,setValidationErrors]=useState({});const{user}=useAuth();const navigate=useNavigate();useEffect(()=>{fetchInitialData();},[]);const fetchInitialData=async()=>{try{console.log('🔄 Fetching initial data...');setInitialLoading(true);const[facultiesRes,coursesRes,classesRes]=await Promise.all([apiMethods.getFaculties(),apiMethods.getCourses(),(user===null||user===void 0?void 0:user.role)==='Lecturer'?apiMethods.getMyClasses():Promise.resolve({success:true,data:[]})]);if(facultiesRes.success){setFaculties(facultiesRes.data);console.log('✅ Faculties loaded:',facultiesRes.data.length);}else{throw new Error(facultiesRes.message||'Failed to load faculties');}if(coursesRes.success){setCourses(coursesRes.data);console.log('✅ Courses loaded:',coursesRes.data.length);}else{throw new Error(coursesRes.message||'Failed to load courses');}if(classesRes.success){setClasses(classesRes.data);console.log('✅ Classes loaded:',classesRes.data.length);}}catch(error){console.error('❌ Error fetching data:',error);setError(\"Failed to load form data: \".concat(error.message,\". Please refresh the page.\"));}finally{setInitialLoading(false);}};const validateForm=()=>{const errors={};const requiredFields=['faculty_id','class_name','week_of_reporting','lecture_date','course_id','actual_present'];requiredFields.forEach(field=>{if(!formData[field]){errors[field]='This field is required';}});// Class name format validation\nif(formData.class_name&&!formData.class_name.match(/^[A-Z]{3,}[A-Z0-9]*-\\w+$/)){errors.class_name='Class name must be in format: ProgramCodeYear-Group (e.g., BSCSEM1-A, BSCITY2-B)';}// Week validation\nif(formData.week_of_reporting){const weekNum=parseInt(formData.week_of_reporting);if(isNaN(weekNum)||weekNum<1||weekNum>52){errors.week_of_reporting='Week must be a number between 1 and 52';}}// Date validation\nif(formData.lecture_date){const lectureDate=new Date(formData.lecture_date);const today=new Date();today.setHours(0,0,0,0);if(lectureDate>today){errors.lecture_date='Lecture date cannot be in the future';}}// Attendance validation\nif(formData.actual_present&&formData.total_registered){const present=parseInt(formData.actual_present);const registered=parseInt(formData.total_registered);if(present>registered){errors.actual_present='Students present cannot exceed total registered';}}if(formData.actual_present&&parseInt(formData.actual_present)<0){errors.actual_present='Students present cannot be negative';}setValidationErrors(errors);return Object.keys(errors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear validation error for this field when user starts typing\nif(validationErrors[name]){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}setError('');setSuccess('');};const handleClassSelect=className=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{class_name:className}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');if(!validateForm()){setLoading(false);setError('Please fix the validation errors before submitting.');return;}try{const submissionData=_objectSpread({},formData);console.log('📤 Submitting report:',submissionData);const response=await apiMethods.createReport(submissionData);if(response.success){setSuccess('Report submitted successfully! Redirecting to reports...');// Reset form\nsetFormData({faculty_id:'',class_name:'',week_of_reporting:'',lecture_date:'',course_id:'',actual_present:'',total_registered:'',venue:'',scheduled_time:'',topic:'',learning_outcomes:'',recommendations:''});// Redirect after delay\nsetTimeout(()=>{navigate('/reports');},2000);}else{setError(response.message||'Failed to submit report. Please try again.');}}catch(err){console.error('❌ Report submission error:',err);if(err.message){setError(\"Submission failed: \".concat(err.message));}else if(err.data&&err.data.message){setError(\"Submission failed: \".concat(err.data.message));}else{setError('An error occurred while submitting the report. Please try again.');}}finally{setLoading(false);}};const calculateAttendanceRate=()=>{if(formData.actual_present&&formData.total_registered){const present=parseInt(formData.actual_present);const registered=parseInt(formData.total_registered);if(registered>0){return(present/registered*100).toFixed(1);}}return 0;};const getCurrentWeek=()=>{const now=new Date();const start=new Date(now.getFullYear(),0,1);const diff=now-start;const oneWeek=7*24*60*60*1000;return Math.floor(diff/oneWeek)+1;};const fillCurrentWeek=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{week_of_reporting:getCurrentWeek().toString()}));};const fillTodayDate=()=>{const today=new Date().toISOString().split('T')[0];setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{lecture_date:today}));};if((user===null||user===void 0?void 0:user.role)!=='Lecturer'){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),\"Access denied. Only lecturers can submit reports.\"]})})})});}if(initialLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading form data...\"})]})})})})});}const attendanceRate=calculateAttendanceRate();return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle me-2\"}),\"Submit Lecture Report\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-light btn-sm\",onClick:()=>navigate('/reports'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-1\"}),\"Back to Reports\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle me-2\"}),error]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle me-2\"}),success]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"Basic Information\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"faculty_id\",className:\"form-label\",children:\"Faculty *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select \".concat(validationErrors.faculty_id?'is-invalid':''),id:\"faculty_id\",name:\"faculty_id\",value:formData.faculty_id,onChange:handleChange,required:true,disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Faculty\"}),faculties.map(faculty=>/*#__PURE__*/_jsx(\"option\",{value:faculty.id,children:faculty.name},faculty.id))]}),validationErrors.faculty_id&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.faculty_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"class_name\",className:\"form-label\",children:\"Class Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(validationErrors.class_name?'is-invalid':''),id:\"class_name\",name:\"class_name\",value:formData.class_name,onChange:handleChange,placeholder:\"Enter class name (e.g., BSCSEM1-A)\",required:true,disabled:loading}),validationErrors.class_name?/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.class_name}):/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"Format: ProgramCodeYear-Group (e.g., BSCSEM1-A, BSCITY2-B)\"}),classes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Quick select from your classes:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-1 mt-1\",children:classes.map(cls=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-sm\",onClick:()=>handleClassSelect(cls.class_name),children:cls.class_name},cls.id))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt me-2\"}),\"Lecture Details\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"week_of_reporting\",className:\"form-label\",children:\"Week of Reporting *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control \".concat(validationErrors.week_of_reporting?'is-invalid':''),id:\"week_of_reporting\",name:\"week_of_reporting\",value:formData.week_of_reporting,onChange:handleChange,min:\"1\",max:\"52\",placeholder:\"Enter week number\",required:true,disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:fillCurrentWeek,title:\"Fill current week\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-magic\"})})]}),validationErrors.week_of_reporting&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.week_of_reporting})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lecture_date\",className:\"form-label\",children:\"Lecture Date *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control \".concat(validationErrors.lecture_date?'is-invalid':''),id:\"lecture_date\",name:\"lecture_date\",value:formData.lecture_date,onChange:handleChange,required:true,disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:fillTodayDate,title:\"Fill today's date\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-day\"})})]}),validationErrors.lecture_date&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.lecture_date})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"course_id\",className:\"form-label\",children:\"Course *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select \".concat(validationErrors.course_id?'is-invalid':''),id:\"course_id\",name:\"course_id\",value:formData.course_id,onChange:handleChange,required:true,disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Course\"}),courses.map(course=>/*#__PURE__*/_jsxs(\"option\",{value:course.id,children:[course.code,\" - \",course.course_name]},course.id))]}),validationErrors.course_id&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.course_id})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-2\"}),\"Attendance Information\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"actual_present\",className:\"form-label\",children:\"Students Present *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control \".concat(validationErrors.actual_present?'is-invalid':''),id:\"actual_present\",name:\"actual_present\",value:formData.actual_present,onChange:handleChange,min:\"0\",required:true,disabled:loading}),validationErrors.actual_present&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:validationErrors.actual_present})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"total_registered\",className:\"form-label\",children:\"Total Registered\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"total_registered\",name:\"total_registered\",value:formData.total_registered,onChange:handleChange,min:\"0\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Attendance Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[attendanceRate,\"%\"]}),attendanceRate>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(attendanceRate>=80?'bg-success':attendanceRate>=60?'bg-warning':'bg-danger'),children:attendanceRate>=80?'Good':attendanceRate>=60?'Fair':'Low'})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt me-2\"}),\"Location & Time\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"venue\",className:\"form-label\",children:\"Venue\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"venue\",name:\"venue\",value:formData.venue,onChange:handleChange,placeholder:\"Lecture venue or room number\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"scheduled_time\",className:\"form-label\",children:\"Scheduled Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",className:\"form-control\",id:\"scheduled_time\",name:\"scheduled_time\",value:formData.scheduled_time,onChange:handleChange,disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-primary mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book me-2\"}),\"Academic Content\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"topic\",className:\"form-label\",children:\"Lecture Topic\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"topic\",name:\"topic\",value:formData.topic,onChange:handleChange,placeholder:\"Topic covered in this lecture\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"learning_outcomes\",className:\"form-label\",children:\"Learning Outcomes\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"learning_outcomes\",name:\"learning_outcomes\",value:formData.learning_outcomes,onChange:handleChange,rows:\"3\",placeholder:\"Key learning outcomes achieved in this session...\",disabled:loading}),/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"Describe what students should be able to do after this lecture\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"recommendations\",className:\"form-label\",children:\"Recommendations & Follow-up\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"recommendations\",name:\"recommendations\",value:formData.recommendations,onChange:handleChange,rows:\"3\",placeholder:\"Any recommendations, follow-up actions, or areas for improvement...\",disabled:loading}),/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"Suggestions for next steps, additional resources, or improvements\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end border-top pt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-secondary me-md-2\",onClick:()=>navigate('/reports'),disabled:loading,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-2\"}),\"Cancel\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary px-4\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane me-2\"}),\"Submit Report\"]})})]})})})]})]})]})})})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","apiMethods","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReportForm","formData","setFormData","faculty_id","class_name","week_of_reporting","lecture_date","course_id","actual_present","total_registered","venue","scheduled_time","topic","learning_outcomes","recommendations","faculties","setFaculties","courses","setCourses","classes","setClasses","loading","setLoading","initialLoading","setInitialLoading","error","setError","success","setSuccess","validationErrors","setValidationErrors","user","navigate","fetchInitialData","console","log","facultiesRes","coursesRes","classesRes","Promise","all","getFaculties","getCourses","role","getMyClasses","resolve","data","length","Error","message","concat","validateForm","errors","requiredFields","forEach","field","match","weekNum","parseInt","isNaN","lectureDate","Date","today","setHours","present","registered","Object","keys","handleChange","e","name","value","target","prev","_objectSpread","handleClassSelect","className","handleSubmit","preventDefault","submissionData","response","createReport","setTimeout","err","calculateAttendanceRate","toFixed","getCurrentWeek","now","start","getFullYear","diff","oneWeek","Math","floor","fillCurrentWeek","toString","fillTodayDate","toISOString","split","children","attendanceRate","type","onClick","onSubmit","htmlFor","id","onChange","required","disabled","map","faculty","placeholder","cls","min","max","title","course","code","course_name","rows"],"sources":["C:/Users/Wailer/Downloads/luct_reporting_app_/luct_reporting_app/frontend/src/pages/ReportForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../utils/auth';\r\nimport { apiMethods } from '../utils/api';\r\n\r\nexport default function ReportForm() {\r\n  const [formData, setFormData] = useState({\r\n    faculty_id: '',\r\n    class_name: '',\r\n    week_of_reporting: '',\r\n    lecture_date: '',\r\n    course_id: '',\r\n    actual_present: '',\r\n    total_registered: '',\r\n    venue: '',\r\n    scheduled_time: '',\r\n    topic: '',\r\n    learning_outcomes: '',\r\n    recommendations: ''\r\n  });\r\n  const [faculties, setFaculties] = useState([]);\r\n  const [courses, setCourses] = useState([]);\r\n  const [classes, setClasses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [initialLoading, setInitialLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchInitialData();\r\n  }, []);\r\n\r\n  const fetchInitialData = async () => {\r\n    try {\r\n      console.log('🔄 Fetching initial data...');\r\n      setInitialLoading(true);\r\n      \r\n      const [facultiesRes, coursesRes, classesRes] = await Promise.all([\r\n        apiMethods.getFaculties(),\r\n        apiMethods.getCourses(),\r\n        user?.role === 'Lecturer' ? apiMethods.getMyClasses() : Promise.resolve({ success: true, data: [] })\r\n      ]);\r\n\r\n      if (facultiesRes.success) {\r\n        setFaculties(facultiesRes.data);\r\n        console.log('✅ Faculties loaded:', facultiesRes.data.length);\r\n      } else {\r\n        throw new Error(facultiesRes.message || 'Failed to load faculties');\r\n      }\r\n\r\n      if (coursesRes.success) {\r\n        setCourses(coursesRes.data);\r\n        console.log('✅ Courses loaded:', coursesRes.data.length);\r\n      } else {\r\n        throw new Error(coursesRes.message || 'Failed to load courses');\r\n      }\r\n\r\n      if (classesRes.success) {\r\n        setClasses(classesRes.data);\r\n        console.log('✅ Classes loaded:', classesRes.data.length);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error fetching data:', error);\r\n      setError(`Failed to load form data: ${error.message}. Please refresh the page.`);\r\n    } finally {\r\n      setInitialLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    const requiredFields = ['faculty_id', 'class_name', 'week_of_reporting', 'lecture_date', 'course_id', 'actual_present'];\r\n    \r\n    requiredFields.forEach(field => {\r\n      if (!formData[field]) {\r\n        errors[field] = 'This field is required';\r\n      }\r\n    });\r\n\r\n    // Class name format validation\r\n    if (formData.class_name && !formData.class_name.match(/^[A-Z]{3,}[A-Z0-9]*-\\w+$/)) {\r\n      errors.class_name = 'Class name must be in format: ProgramCodeYear-Group (e.g., BSCSEM1-A, BSCITY2-B)';\r\n    }\r\n\r\n    // Week validation\r\n    if (formData.week_of_reporting) {\r\n      const weekNum = parseInt(formData.week_of_reporting);\r\n      if (isNaN(weekNum) || weekNum < 1 || weekNum > 52) {\r\n        errors.week_of_reporting = 'Week must be a number between 1 and 52';\r\n      }\r\n    }\r\n\r\n    // Date validation\r\n    if (formData.lecture_date) {\r\n      const lectureDate = new Date(formData.lecture_date);\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n      \r\n      if (lectureDate > today) {\r\n        errors.lecture_date = 'Lecture date cannot be in the future';\r\n      }\r\n    }\r\n\r\n    // Attendance validation\r\n    if (formData.actual_present && formData.total_registered) {\r\n      const present = parseInt(formData.actual_present);\r\n      const registered = parseInt(formData.total_registered);\r\n      if (present > registered) {\r\n        errors.actual_present = 'Students present cannot exceed total registered';\r\n      }\r\n    }\r\n\r\n    if (formData.actual_present && parseInt(formData.actual_present) < 0) {\r\n      errors.actual_present = 'Students present cannot be negative';\r\n    }\r\n\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n\r\n    // Clear validation error for this field when user starts typing\r\n    if (validationErrors[name]) {\r\n      setValidationErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n    \r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  const handleClassSelect = (className) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      class_name: className\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!validateForm()) {\r\n      setLoading(false);\r\n      setError('Please fix the validation errors before submitting.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const submissionData = {\r\n        ...formData,\r\n        // lecturer_id is automatically set by backend from auth token\r\n      };\r\n      \r\n      console.log('📤 Submitting report:', submissionData);\r\n      \r\n      const response = await apiMethods.createReport(submissionData);\r\n      \r\n      if (response.success) {\r\n        setSuccess('Report submitted successfully! Redirecting to reports...');\r\n        \r\n        // Reset form\r\n        setFormData({\r\n          faculty_id: '',\r\n          class_name: '',\r\n          week_of_reporting: '',\r\n          lecture_date: '',\r\n          course_id: '',\r\n          actual_present: '',\r\n          total_registered: '',\r\n          venue: '',\r\n          scheduled_time: '',\r\n          topic: '',\r\n          learning_outcomes: '',\r\n          recommendations: ''\r\n        });\r\n        \r\n        // Redirect after delay\r\n        setTimeout(() => {\r\n          navigate('/reports');\r\n        }, 2000);\r\n      } else {\r\n        setError(response.message || 'Failed to submit report. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('❌ Report submission error:', err);\r\n      \r\n      if (err.message) {\r\n        setError(`Submission failed: ${err.message}`);\r\n      } else if (err.data && err.data.message) {\r\n        setError(`Submission failed: ${err.data.message}`);\r\n      } else {\r\n        setError('An error occurred while submitting the report. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateAttendanceRate = () => {\r\n    if (formData.actual_present && formData.total_registered) {\r\n      const present = parseInt(formData.actual_present);\r\n      const registered = parseInt(formData.total_registered);\r\n      if (registered > 0) {\r\n        return ((present / registered) * 100).toFixed(1);\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  const getCurrentWeek = () => {\r\n    const now = new Date();\r\n    const start = new Date(now.getFullYear(), 0, 1);\r\n    const diff = now - start;\r\n    const oneWeek = 7 * 24 * 60 * 60 * 1000;\r\n    return Math.floor(diff / oneWeek) + 1;\r\n  };\r\n\r\n  const fillCurrentWeek = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      week_of_reporting: getCurrentWeek().toString()\r\n    }));\r\n  };\r\n\r\n  const fillTodayDate = () => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      lecture_date: today\r\n    }));\r\n  };\r\n\r\n  if (user?.role !== 'Lecturer') {\r\n    return (\r\n      <div className=\"container-fluid py-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"alert alert-danger\">\r\n              <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n              Access denied. Only lecturers can submit reports.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (initialLoading) {\r\n    return (\r\n      <div className=\"container-fluid py-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"card shadow\">\r\n              <div className=\"card-body text-center py-5\">\r\n                <div className=\"spinner-border text-primary mb-3\" role=\"status\">\r\n                  <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                <p>Loading form data...</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const attendanceRate = calculateAttendanceRate();\r\n\r\n  return (\r\n    <div className=\"container-fluid py-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"card-header bg-primary text-white\">\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h3 className=\"mb-0\">\r\n                  <i className=\"fas fa-plus-circle me-2\"></i>\r\n                  Submit Lecture Report\r\n                </h3>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-light btn-sm\"\r\n                  onClick={() => navigate('/reports')}\r\n                >\r\n                  <i className=\"fas fa-arrow-left me-1\"></i>\r\n                  Back to Reports\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              {error && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  <i className=\"fas fa-exclamation-circle me-2\"></i>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {success && (\r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                  <i className=\"fas fa-check-circle me-2\"></i>\r\n                  {success}\r\n                </div>\r\n              )}\r\n\r\n              <form onSubmit={handleSubmit}>\r\n                {/* Basic Information Section */}\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-12\">\r\n                    <h5 className=\"text-primary mb-3\">\r\n                      <i className=\"fas fa-info-circle me-2\"></i>\r\n                      Basic Information\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"faculty_id\" className=\"form-label\">\r\n                      Faculty *\r\n                    </label>\r\n                    <select\r\n                      className={`form-select ${validationErrors.faculty_id ? 'is-invalid' : ''}`}\r\n                      id=\"faculty_id\"\r\n                      name=\"faculty_id\"\r\n                      value={formData.faculty_id}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"\">Select Faculty</option>\r\n                      {faculties.map(faculty => (\r\n                        <option key={faculty.id} value={faculty.id}>\r\n                          {faculty.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {validationErrors.faculty_id && (\r\n                      <div className=\"invalid-feedback\">{validationErrors.faculty_id}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"class_name\" className=\"form-label\">\r\n                      Class Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className={`form-control ${validationErrors.class_name ? 'is-invalid' : ''}`}\r\n                      id=\"class_name\"\r\n                      name=\"class_name\"\r\n                      value={formData.class_name}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Enter class name (e.g., BSCSEM1-A)\"\r\n                      required\r\n                      disabled={loading}\r\n                    />\r\n                    {validationErrors.class_name ? (\r\n                      <div className=\"invalid-feedback\">{validationErrors.class_name}</div>\r\n                    ) : (\r\n                      <div className=\"form-text\">\r\n                        Format: ProgramCodeYear-Group (e.g., BSCSEM1-A, BSCITY2-B)\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* Quick class selection from my classes */}\r\n                    {classes.length > 0 && (\r\n                      <div className=\"mt-2\">\r\n                        <small className=\"text-muted\">Quick select from your classes:</small>\r\n                        <div className=\"d-flex flex-wrap gap-1 mt-1\">\r\n                          {classes.map(cls => (\r\n                            <button\r\n                              key={cls.id}\r\n                              type=\"button\"\r\n                              className=\"btn btn-outline-secondary btn-sm\"\r\n                              onClick={() => handleClassSelect(cls.class_name)}\r\n                            >\r\n                              {cls.class_name}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Lecture Details Section */}\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-12\">\r\n                    <h5 className=\"text-primary mb-3\">\r\n                      <i className=\"fas fa-calendar-alt me-2\"></i>\r\n                      Lecture Details\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label htmlFor=\"week_of_reporting\" className=\"form-label\">\r\n                      Week of Reporting *\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"number\"\r\n                        className={`form-control ${validationErrors.week_of_reporting ? 'is-invalid' : ''}`}\r\n                        id=\"week_of_reporting\"\r\n                        name=\"week_of_reporting\"\r\n                        value={formData.week_of_reporting}\r\n                        onChange={handleChange}\r\n                        min=\"1\"\r\n                        max=\"52\"\r\n                        placeholder=\"Enter week number\"\r\n                        required\r\n                        disabled={loading}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-outline-secondary\"\r\n                        onClick={fillCurrentWeek}\r\n                        title=\"Fill current week\"\r\n                      >\r\n                        <i className=\"fas fa-magic\"></i>\r\n                      </button>\r\n                    </div>\r\n                    {validationErrors.week_of_reporting && (\r\n                      <div className=\"invalid-feedback\">{validationErrors.week_of_reporting}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label htmlFor=\"lecture_date\" className=\"form-label\">\r\n                      Lecture Date *\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"date\"\r\n                        className={`form-control ${validationErrors.lecture_date ? 'is-invalid' : ''}`}\r\n                        id=\"lecture_date\"\r\n                        name=\"lecture_date\"\r\n                        value={formData.lecture_date}\r\n                        onChange={handleChange}\r\n                        required\r\n                        disabled={loading}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-outline-secondary\"\r\n                        onClick={fillTodayDate}\r\n                        title=\"Fill today's date\"\r\n                      >\r\n                        <i className=\"fas fa-calendar-day\"></i>\r\n                      </button>\r\n                    </div>\r\n                    {validationErrors.lecture_date && (\r\n                      <div className=\"invalid-feedback\">{validationErrors.lecture_date}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label htmlFor=\"course_id\" className=\"form-label\">\r\n                      Course *\r\n                    </label>\r\n                    <select\r\n                      className={`form-select ${validationErrors.course_id ? 'is-invalid' : ''}`}\r\n                      id=\"course_id\"\r\n                      name=\"course_id\"\r\n                      value={formData.course_id}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"\">Select Course</option>\r\n                      {courses.map(course => (\r\n                        <option key={course.id} value={course.id}>\r\n                          {course.code} - {course.course_name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {validationErrors.course_id && (\r\n                      <div className=\"invalid-feedback\">{validationErrors.course_id}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Attendance Section */}\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-12\">\r\n                    <h5 className=\"text-primary mb-3\">\r\n                      <i className=\"fas fa-users me-2\"></i>\r\n                      Attendance Information\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label htmlFor=\"actual_present\" className=\"form-label\">\r\n                      Students Present *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className={`form-control ${validationErrors.actual_present ? 'is-invalid' : ''}`}\r\n                      id=\"actual_present\"\r\n                      name=\"actual_present\"\r\n                      value={formData.actual_present}\r\n                      onChange={handleChange}\r\n                      min=\"0\"\r\n                      required\r\n                      disabled={loading}\r\n                    />\r\n                    {validationErrors.actual_present && (\r\n                      <div className=\"invalid-feedback\">{validationErrors.actual_present}</div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label htmlFor=\"total_registered\" className=\"form-label\">\r\n                      Total Registered\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control\"\r\n                      id=\"total_registered\"\r\n                      name=\"total_registered\"\r\n                      value={formData.total_registered}\r\n                      onChange={handleChange}\r\n                      min=\"0\"\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4 mb-3\">\r\n                    <label className=\"form-label\">Attendance Rate</label>\r\n                    <div className=\"form-control bg-light\">\r\n                      <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <span>{attendanceRate}%</span>\r\n                        {attendanceRate > 0 && (\r\n                          <span className={`badge ${attendanceRate >= 80 ? 'bg-success' : attendanceRate >= 60 ? 'bg-warning' : 'bg-danger'}`}>\r\n                            {attendanceRate >= 80 ? 'Good' : attendanceRate >= 60 ? 'Fair' : 'Low'}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Location & Time Section */}\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-12\">\r\n                    <h5 className=\"text-primary mb-3\">\r\n                      <i className=\"fas fa-map-marker-alt me-2\"></i>\r\n                      Location & Time\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"venue\" className=\"form-label\">Venue</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"venue\"\r\n                      name=\"venue\"\r\n                      value={formData.venue}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Lecture venue or room number\"\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"scheduled_time\" className=\"form-label\">Scheduled Time</label>\r\n                    <input\r\n                      type=\"time\"\r\n                      className=\"form-control\"\r\n                      id=\"scheduled_time\"\r\n                      name=\"scheduled_time\"\r\n                      value={formData.scheduled_time}\r\n                      onChange={handleChange}\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Academic Content Section */}\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-12\">\r\n                    <h5 className=\"text-primary mb-3\">\r\n                      <i className=\"fas fa-book me-2\"></i>\r\n                      Academic Content\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div className=\"col-12 mb-3\">\r\n                    <label htmlFor=\"topic\" className=\"form-label\">Lecture Topic</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"topic\"\r\n                      name=\"topic\"\r\n                      value={formData.topic}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Topic covered in this lecture\"\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-12 mb-3\">\r\n                    <label htmlFor=\"learning_outcomes\" className=\"form-label\">Learning Outcomes</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"learning_outcomes\"\r\n                      name=\"learning_outcomes\"\r\n                      value={formData.learning_outcomes}\r\n                      onChange={handleChange}\r\n                      rows=\"3\"\r\n                      placeholder=\"Key learning outcomes achieved in this session...\"\r\n                      disabled={loading}\r\n                    ></textarea>\r\n                    <div className=\"form-text\">\r\n                      Describe what students should be able to do after this lecture\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-12 mb-3\">\r\n                    <label htmlFor=\"recommendations\" className=\"form-label\">Recommendations & Follow-up</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      id=\"recommendations\"\r\n                      name=\"recommendations\"\r\n                      value={formData.recommendations}\r\n                      onChange={handleChange}\r\n                      rows=\"3\"\r\n                      placeholder=\"Any recommendations, follow-up actions, or areas for improvement...\"\r\n                      disabled={loading}\r\n                    ></textarea>\r\n                    <div className=\"form-text\">\r\n                      Suggestions for next steps, additional resources, or improvements\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Submit Section */}\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"d-grid gap-2 d-md-flex justify-content-md-end border-top pt-4\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-outline-secondary me-md-2\"\r\n                        onClick={() => navigate('/reports')}\r\n                        disabled={loading}\r\n                      >\r\n                        <i className=\"fas fa-times me-2\"></i>\r\n                        Cancel\r\n                      </button>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary px-4\"\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? (\r\n                          <>\r\n                            <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\r\n                              <span className=\"visually-hidden\">Loading...</span>\r\n                            </div>\r\n                            Submitting...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <i className=\"fas fa-paper-plane me-2\"></i>\r\n                            Submit Report\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}